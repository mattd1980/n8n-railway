{"version":3,"sources":["../../../../../nodes/Transform/RemoveDuplicates/v2/RemoveDuplicatesV2.description.ts"],"sourcesContent":["import type { INodeProperties } from 'n8n-workflow';\nconst operationOptions = [\n\t{\n\t\tname: 'Remove Items Repeated Within Current Input',\n\t\tvalue: 'removeDuplicateInputItems',\n\t\tdescription: 'Remove duplicates from incoming items',\n\t\taction: 'Remove items repeated within current input',\n\t},\n\t{\n\t\tname: 'Remove Items Processed in Previous Executions',\n\t\tvalue: 'removeItemsSeenInPreviousExecutions',\n\t\tdescription: 'Deduplicate items already seen in previous executions',\n\t\taction: 'Remove items processed in previous executions',\n\t},\n\t{\n\t\tname: 'Clear Deduplication History',\n\t\tvalue: 'clearDeduplicationHistory',\n\t\tdescription: 'Wipe the store of previous items',\n\t\taction: 'Clear deduplication history',\n\t},\n];\nconst compareOptions = [\n\t{\n\t\tname: 'All Fields',\n\t\tvalue: 'allFields',\n\t},\n\t{\n\t\tname: 'All Fields Except',\n\t\tvalue: 'allFieldsExcept',\n\t},\n\t{\n\t\tname: 'Selected Fields',\n\t\tvalue: 'selectedFields',\n\t},\n];\nconst logicOptions = [\n\t{\n\t\tname: 'Value Is New',\n\t\tvalue: 'removeItemsWithAlreadySeenKeyValues',\n\t\tdescription: 'Remove all input items with values matching those already processed',\n\t},\n\t{\n\t\tname: 'Value Is Higher than Any Previous Value',\n\t\tvalue: 'removeItemsUpToStoredIncrementalKey',\n\t\tdescription:\n\t\t\t'Works with incremental values, removes all input items with values up to the stored value',\n\t},\n\t{\n\t\tname: 'Value Is a Date Later than Any Previous Date',\n\t\tvalue: 'removeItemsUpToStoredDate',\n\t\tdescription:\n\t\t\t'Works with date values, removes all input items with values up to the stored date',\n\t},\n];\nconst manageDatabaseModeOptions = [\n\t{\n\t\tname: 'Clean Database',\n\t\tvalue: 'cleanDatabase',\n\t\tdescription: 'Clear all values stored for a key in the database',\n\t},\n];\n\nexport const removeDuplicatesNodeFields: INodeProperties[] = [\n\t{\n\t\tdisplayName: 'Operation',\n\t\tname: 'operation',\n\t\ttype: 'options',\n\t\tnoDataExpression: true,\n\t\toptions: operationOptions,\n\t\tdefault: 'removeDuplicateInputItems',\n\t},\n\t{\n\t\tdisplayName: 'Compare',\n\t\tname: 'compare',\n\t\ttype: 'options',\n\t\toptions: compareOptions,\n\t\tdefault: 'allFields',\n\t\tdescription: 'The fields of the input items to compare to see if they are the same',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\toperation: ['removeDuplicateInputItems'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Fields To Exclude',\n\t\tname: 'fieldsToExclude',\n\t\ttype: 'string',\n\t\tplaceholder: 'e.g. email, name',\n\t\trequiresDataPath: 'multiple',\n\t\tdescription: 'Fields in the input to exclude from the comparison',\n\t\tdefault: '',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tcompare: ['allFieldsExcept'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Fields To Compare',\n\t\tname: 'fieldsToCompare',\n\t\ttype: 'string',\n\t\tplaceholder: 'e.g. email, name',\n\t\trequiresDataPath: 'multiple',\n\t\tdescription: 'Fields in the input to add to the comparison',\n\t\tdefault: '',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tcompare: ['selectedFields'],\n\t\t\t},\n\t\t},\n\t},\n\n\t// ----------------------------------\n\t{\n\t\tdisplayName: 'Keep Items Where',\n\t\tname: 'logic',\n\t\ttype: 'options',\n\t\tnoDataExpression: true,\n\t\toptions: logicOptions,\n\t\tdefault: 'removeItemsWithAlreadySeenKeyValues',\n\t\tdescription:\n\t\t\t'How to select input items to remove by comparing them with key values previously processed',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\toperation: ['removeItemsSeenInPreviousExecutions'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Value to Dedupe On',\n\t\tname: 'dedupeValue',\n\t\ttype: 'string',\n\t\tdefault: '',\n\t\tdescription: 'Use an input field (or a combination of fields) that has a unique ID value',\n\t\thint: 'The input field value to compare between items',\n\t\tplaceholder: 'e.g. ID',\n\t\trequired: true,\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tlogic: ['removeItemsWithAlreadySeenKeyValues'],\n\t\t\t\t'/operation': ['removeItemsSeenInPreviousExecutions'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Value to Dedupe On',\n\t\tname: 'incrementalDedupeValue',\n\t\ttype: 'number',\n\t\tdefault: '',\n\t\tdescription: 'Use an input field (or a combination of fields) that has an incremental value',\n\t\thint: 'The input field value to compare between items, an incremental value is expected',\n\t\tplaceholder: 'e.g. ID',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tlogic: ['removeItemsUpToStoredIncrementalKey'],\n\t\t\t\t'/operation': ['removeItemsSeenInPreviousExecutions'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Value to Dedupe On',\n\t\tname: 'dateDedupeValue',\n\t\ttype: 'dateTime',\n\t\tdefault: '',\n\t\tdescription: 'Use an input field that has a date value in ISO format',\n\t\thint: 'The input field value to compare between items, a date is expected',\n\t\tplaceholder: ' e.g. 2024-08-09T13:44:16Z',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tlogic: ['removeItemsUpToStoredDate'],\n\t\t\t\t'/operation': ['removeItemsSeenInPreviousExecutions'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Mode',\n\t\tname: 'mode',\n\t\ttype: 'options',\n\t\tdefault: 'cleanDatabase',\n\t\tdescription:\n\t\t\t'How you want to modify the key values stored on the database. None of these modes removes input items.',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\toperation: ['clearDeduplicationHistory'],\n\t\t\t},\n\t\t},\n\t\toptions: manageDatabaseModeOptions,\n\t},\n\t{\n\t\tdisplayName: 'Options',\n\t\tname: 'options',\n\t\ttype: 'collection',\n\t\tplaceholder: 'Add Field',\n\t\tdefault: {},\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\toperation: [\n\t\t\t\t\t'removeDuplicateInputItems',\n\t\t\t\t\t'removeItemsSeenInPreviousExecutions',\n\t\t\t\t\t'clearDeduplicationHistory',\n\t\t\t\t],\n\t\t\t},\n\t\t},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Disable Dot Notation',\n\t\t\t\tname: 'disableDotNotation',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/operation': ['removeDuplicateInputItems'],\n\t\t\t\t\t},\n\t\t\t\t\thide: {\n\t\t\t\t\t\t'/compare': ['allFields'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdescription:\n\t\t\t\t\t'Whether to disallow referencing child fields using `parent.child` in the field name',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Remove Other Fields',\n\t\t\t\tname: 'removeOtherFields',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/operation': ['removeDuplicateInputItems'],\n\t\t\t\t\t},\n\t\t\t\t\thide: {\n\t\t\t\t\t\t'/compare': ['allFields'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdescription:\n\t\t\t\t\t'Whether to remove any fields that are not being compared. If disabled, will keep the values from the first of the duplicates.',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Scope',\n\t\t\t\tname: 'scope',\n\t\t\t\ttype: 'options',\n\t\t\t\tdefault: 'node',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/operation': ['clearDeduplicationHistory', 'removeItemsSeenInPreviousExecutions'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdescription:\n\t\t\t\t\t'If set to ‘workflow,’ key values will be shared across all nodes in the workflow. If set to ‘node,’ key values will be specific to this node.',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Workflow',\n\t\t\t\t\t\tvalue: 'workflow',\n\t\t\t\t\t\tdescription: 'Deduplication info will be shared by all the nodes in the workflow',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Node',\n\t\t\t\t\t\tvalue: 'node',\n\t\t\t\t\t\tdescription: 'Deduplication info will be stored only for this node',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'History Size',\n\t\t\t\tname: 'historySize',\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: 10000,\n\t\t\t\thint: 'The max number of past items to store for deduplication',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/logic': ['removeItemsWithAlreadySeenKeyValues'],\n\t\t\t\t\t\t'/operation': ['removeItemsSeenInPreviousExecutions'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n];\n"],"mappings":"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","names":[]}