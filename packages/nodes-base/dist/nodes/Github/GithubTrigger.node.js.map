{"version":3,"sources":["../../../nodes/Github/GithubTrigger.node.ts"],"sourcesContent":["import type {\n\tIHookFunctions,\n\tIWebhookFunctions,\n\tIDataObject,\n\tINodeType,\n\tINodeTypeDescription,\n\tIWebhookResponseData,\n\tJsonObject,\n} from 'n8n-workflow';\nimport { NodeConnectionTypes, NodeApiError, NodeOperationError } from 'n8n-workflow';\n\nimport { githubApiRequest } from './GenericFunctions';\nimport { getRepositories, getUsers } from './SearchFunctions';\n\nexport class GithubTrigger implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'Github Trigger',\n\t\tname: 'githubTrigger',\n\t\ticon: { light: 'file:github.svg', dark: 'file:github.dark.svg' },\n\t\tgroup: ['trigger'],\n\t\tversion: 1,\n\t\tsubtitle:\n\t\t\t'={{$parameter[\"owner\"] + \"/\" + $parameter[\"repository\"] + \": \" + $parameter[\"events\"].join(\", \")}}',\n\t\tdescription: 'Starts the workflow when Github events occur',\n\t\tdefaults: {\n\t\t\tname: 'Github Trigger',\n\t\t},\n\t\tinputs: [],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tcredentials: [\n\t\t\t{\n\t\t\t\tname: 'githubApi',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tauthentication: ['accessToken'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'githubOAuth2Api',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tauthentication: ['oAuth2'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\twebhooks: [\n\t\t\t{\n\t\t\t\tname: 'default',\n\t\t\t\thttpMethod: 'POST',\n\t\t\t\tresponseMode: 'onReceived',\n\t\t\t\tpath: 'webhook',\n\t\t\t},\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tdisplayName:\n\t\t\t\t\t'Only members with owner privileges for an organization or admin privileges for a repository can set up the webhooks this node requires.',\n\t\t\t\tname: 'notice',\n\t\t\t\ttype: 'notice',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Authentication',\n\t\t\t\tname: 'authentication',\n\t\t\t\ttype: 'options',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Access Token',\n\t\t\t\t\t\tvalue: 'accessToken',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'OAuth2',\n\t\t\t\t\t\tvalue: 'oAuth2',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'accessToken',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Repository Owner',\n\t\t\t\tname: 'owner',\n\t\t\t\ttype: 'resourceLocator',\n\t\t\t\tdefault: { mode: 'list', value: '' },\n\t\t\t\trequired: true,\n\t\t\t\tmodes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Repository Owner',\n\t\t\t\t\t\tname: 'list',\n\t\t\t\t\t\ttype: 'list',\n\t\t\t\t\t\tplaceholder: 'Select an owner...',\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tsearchListMethod: 'getUsers',\n\t\t\t\t\t\t\tsearchable: true,\n\t\t\t\t\t\t\tsearchFilterRequired: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Link',\n\t\t\t\t\t\tname: 'url',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tplaceholder: 'e.g. https://github.com/n8n-io',\n\t\t\t\t\t\textractValue: {\n\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\tregex: 'https:\\\\/\\\\/github.com\\\\/([-_0-9a-zA-Z]+)',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalidation: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tregex: 'https:\\\\/\\\\/github.com\\\\/([-_0-9a-zA-Z]+)(?:.*)',\n\t\t\t\t\t\t\t\t\terrorMessage: 'Not a valid Github URL',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'By Name',\n\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tplaceholder: 'e.g. n8n-io',\n\t\t\t\t\t\tvalidation: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tregex: '[-_a-zA-Z0-9]+',\n\t\t\t\t\t\t\t\t\terrorMessage: 'Not a valid Github Owner Name',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\turl: '=https://github.com/{{$value}}',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Repository Name',\n\t\t\t\tname: 'repository',\n\t\t\t\ttype: 'resourceLocator',\n\t\t\t\tdefault: { mode: 'list', value: '' },\n\t\t\t\trequired: true,\n\t\t\t\tmodes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Repository Name',\n\t\t\t\t\t\tname: 'list',\n\t\t\t\t\t\ttype: 'list',\n\t\t\t\t\t\tplaceholder: 'Select an Repository...',\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tsearchListMethod: 'getRepositories',\n\t\t\t\t\t\t\tsearchable: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Link',\n\t\t\t\t\t\tname: 'url',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tplaceholder: 'e.g. https://github.com/n8n-io/n8n',\n\t\t\t\t\t\textractValue: {\n\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\tregex: 'https:\\\\/\\\\/github.com\\\\/(?:[-_0-9a-zA-Z]+)\\\\/([-_.0-9a-zA-Z]+)',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalidation: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tregex: 'https:\\\\/\\\\/github.com\\\\/(?:[-_0-9a-zA-Z]+)\\\\/([-_.0-9a-zA-Z]+)(?:.*)',\n\t\t\t\t\t\t\t\t\terrorMessage: 'Not a valid Github Repository URL',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'By Name',\n\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tplaceholder: 'e.g. n8n',\n\t\t\t\t\t\tvalidation: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tregex: '[-_.0-9a-zA-Z]+',\n\t\t\t\t\t\t\t\t\terrorMessage: 'Not a valid Github Repository Name',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\turl: '=https://github.com/{{$parameter[\"owner\"]}}/{{$value}}',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Events',\n\t\t\t\tname: 'events',\n\t\t\t\ttype: 'multiOptions',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '*',\n\t\t\t\t\t\tvalue: '*',\n\t\t\t\t\t\tdescription: 'Any time any event is triggered (Wildcard Event)',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Check Run',\n\t\t\t\t\t\tvalue: 'check_run',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a check run is created, rerequested, completed, or has a requested_action',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Check Suite',\n\t\t\t\t\t\tvalue: 'check_suite',\n\t\t\t\t\t\tdescription: 'Triggered when a check suite is completed, requested, or rerequested',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Commit Comment',\n\t\t\t\t\t\tvalue: 'commit_comment',\n\t\t\t\t\t\tdescription: 'Triggered when a commit comment is created',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Create',\n\t\t\t\t\t\tvalue: 'create',\n\t\t\t\t\t\tdescription: 'Represents a created repository, branch, or tag',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Delete',\n\t\t\t\t\t\tvalue: 'delete',\n\t\t\t\t\t\tdescription: 'Represents a deleted branch or tag',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Deploy Key',\n\t\t\t\t\t\tvalue: 'deploy_key',\n\t\t\t\t\t\tdescription: 'Triggered when a deploy key is added or removed from a repository',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Deployment',\n\t\t\t\t\t\tvalue: 'deployment',\n\t\t\t\t\t\tdescription: 'Represents a deployment',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Deployment Status',\n\t\t\t\t\t\tvalue: 'deployment_status',\n\t\t\t\t\t\tdescription: 'Represents a deployment status',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Fork',\n\t\t\t\t\t\tvalue: 'fork',\n\t\t\t\t\t\tdescription: 'Triggered when a user forks a repository',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Github App Authorization',\n\t\t\t\t\t\tvalue: 'github_app_authorization',\n\t\t\t\t\t\tdescription: 'Triggered when someone revokes their authorization of a GitHub App',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Gollum',\n\t\t\t\t\t\tvalue: 'gollum',\n\t\t\t\t\t\tdescription: 'Triggered when a Wiki page is created or updated',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Installation',\n\t\t\t\t\t\tvalue: 'installation',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when someone installs (created), uninstalls (deleted), or accepts new permissions (new_permissions_accepted) for a GitHub App. When a GitHub App owner requests new permissions, the person who installed the GitHub App must accept the new permissions request.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Installation Repositories',\n\t\t\t\t\t\tvalue: 'installation_repositories',\n\t\t\t\t\t\tdescription: 'Triggered when a repository is added or removed from an installation',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Issue Comment',\n\t\t\t\t\t\tvalue: 'issue_comment',\n\t\t\t\t\t\tdescription: 'Triggered when an issue comment is created, edited, or deleted',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Issues',\n\t\t\t\t\t\tvalue: 'issues',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when an issue is opened, edited, deleted, transferred, pinned, unpinned, closed, reopened, assigned, unassigned, labeled, unlabeled, locked, unlocked, milestoned, or demilestoned',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Label',\n\t\t\t\t\t\tvalue: 'label',\n\t\t\t\t\t\tdescription: \"Triggered when a repository's label is created, edited, or deleted\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Marketplace Purchase',\n\t\t\t\t\t\tvalue: 'marketplace_purchase',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when someone purchases a GitHub Marketplace plan, cancels their plan, upgrades their plan (effective immediately), downgrades a plan that remains pending until the end of the billing cycle, or cancels a pending plan change',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Member',\n\t\t\t\t\t\tvalue: 'member',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a user accepts an invitation or is removed as a collaborator to a repository, or has their permissions changed',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Membership',\n\t\t\t\t\t\tvalue: 'membership',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a user is added or removed from a team. Organization hooks only.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Meta',\n\t\t\t\t\t\tvalue: 'meta',\n\t\t\t\t\t\tdescription: 'Triggered when the webhook that this event is configured on is deleted',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Milestone',\n\t\t\t\t\t\tvalue: 'milestone',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a milestone is created, closed, opened, edited, or deleted',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Org Block',\n\t\t\t\t\t\tvalue: 'org_block',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when an organization blocks or unblocks a user. Organization hooks only.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Organization',\n\t\t\t\t\t\tvalue: 'organization',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when an organization is deleted and renamed, and when a user is added, removed, or invited to an organization. Organization hooks only.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Page Build',\n\t\t\t\t\t\tvalue: 'page_build',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered on push to a GitHub Pages enabled branch (gh-pages for project pages, master for user and organization pages)',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Project',\n\t\t\t\t\t\tvalue: 'project',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a project is created, updated, closed, reopened, or deleted',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Project Card',\n\t\t\t\t\t\tvalue: 'project_card',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a project card is created, edited, moved, converted to an issue, or deleted',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Project Column',\n\t\t\t\t\t\tvalue: 'project_column',\n\t\t\t\t\t\tdescription: 'Triggered when a project column is created, updated, moved, or deleted',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Public',\n\t\t\t\t\t\tvalue: 'public',\n\t\t\t\t\t\tdescription: 'Triggered when a private repository is open sourced',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Pull Request',\n\t\t\t\t\t\tvalue: 'pull_request',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a pull request is assigned, unassigned, labeled, unlabeled, opened, edited, closed, reopened, synchronize, ready_for_review, locked, unlocked, a pull request review is requested, or a review request is removed',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Pull Request Review',\n\t\t\t\t\t\tvalue: 'pull_request_review',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a pull request review is submitted into a non-pending state, the body is edited, or the review is dismissed',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Pull Request Review Comment',\n\t\t\t\t\t\tvalue: 'pull_request_review_comment',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\"Triggered when a comment on a pull request's unified diff is created, edited, or deleted (in the Files Changed tab)\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Push',\n\t\t\t\t\t\tvalue: 'push',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered on a push to a repository branch. Branch pushes and repository tag pushes also trigger webhook push events. This is the default event.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Release',\n\t\t\t\t\t\tvalue: 'release',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a release is published, unpublished, created, edited, deleted, or prereleased',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Repository',\n\t\t\t\t\t\tvalue: 'repository',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a repository is created, archived, unarchived, renamed, edited, transferred, made public, or made private. Organization hooks are also triggered when a repository is deleted.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Repository Import',\n\t\t\t\t\t\tvalue: 'repository_import',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a successful, cancelled, or failed repository import finishes for a GitHub organization or a personal repository',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Repository Vulnerability Alert',\n\t\t\t\t\t\tvalue: 'repository_vulnerability_alert',\n\t\t\t\t\t\tdescription: 'Triggered when a security alert is created, dismissed, or resolved',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Security Advisory',\n\t\t\t\t\t\tvalue: 'security_advisory',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Triggered when a new security advisory is published, updated, or withdrawn',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Star',\n\t\t\t\t\t\tvalue: 'star',\n\t\t\t\t\t\tdescription: 'Triggered when a star is added or removed from a repository',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Status',\n\t\t\t\t\t\tvalue: 'status',\n\t\t\t\t\t\tdescription: 'Triggered when the status of a Git commit changes',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Team',\n\t\t\t\t\t\tvalue: 'team',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\"Triggered when an organization's team is created, deleted, edited, added_to_repository, or removed_from_repository. Organization hooks only.\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Team Add',\n\t\t\t\t\t\tvalue: 'team_add',\n\t\t\t\t\t\tdescription: 'Triggered when a repository is added to a team',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Watch',\n\t\t\t\t\t\tvalue: 'watch',\n\t\t\t\t\t\tdescription: 'Triggered when someone stars a repository',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\trequired: true,\n\t\t\t\tdefault: [],\n\t\t\t\tdescription: 'The events to listen to',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Options',\n\t\t\t\tname: 'options',\n\t\t\t\ttype: 'collection',\n\t\t\t\tplaceholder: 'Add option',\n\t\t\t\tdefault: {},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Insecure SSL',\n\t\t\t\t\t\tname: 'insecureSSL',\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tdefault: false,\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Whether the SSL certificate of the n8n host be verified by GitHub when delivering payloads',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t};\n\n\twebhookMethods = {\n\t\tdefault: {\n\t\t\tasync checkExists(this: IHookFunctions): Promise<boolean> {\n\t\t\t\tconst webhookData = this.getWorkflowStaticData('node');\n\n\t\t\t\tif (webhookData.webhookId === undefined) {\n\t\t\t\t\t// No webhook id is set so no webhook can exist\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Webhook got created before so check if it still exists\n\t\t\t\tconst owner = this.getNodeParameter('owner', '', { extractValue: true }) as string;\n\t\t\t\tconst repository = this.getNodeParameter('repository', '', {\n\t\t\t\t\textractValue: true,\n\t\t\t\t}) as string;\n\t\t\t\tconst endpoint = `/repos/${owner}/${repository}/hooks/${webhookData.webhookId}`;\n\n\t\t\t\ttry {\n\t\t\t\t\tawait githubApiRequest.call(this, 'GET', endpoint, {});\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error.cause.httpCode === '404') {\n\t\t\t\t\t\t// Webhook does not exist\n\t\t\t\t\t\tdelete webhookData.webhookId;\n\t\t\t\t\t\tdelete webhookData.webhookEvents;\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Some error occurred\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t\t// If it did not error then the webhook exists\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tasync create(this: IHookFunctions): Promise<boolean> {\n\t\t\t\tconst webhookUrl = this.getNodeWebhookUrl('default') as string;\n\n\t\t\t\tif (webhookUrl.includes('//localhost')) {\n\t\t\t\t\tthrow new NodeOperationError(\n\t\t\t\t\t\tthis.getNode(),\n\t\t\t\t\t\t'The Webhook can not work on \"localhost\". Please, either setup n8n on a custom domain or start with \"--tunnel\"!',\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst owner = this.getNodeParameter('owner', '', { extractValue: true }) as string;\n\t\t\t\tconst repository = this.getNodeParameter('repository', '', {\n\t\t\t\t\textractValue: true,\n\t\t\t\t}) as string;\n\t\t\t\tconst events = this.getNodeParameter('events', []);\n\n\t\t\t\tconst endpoint = `/repos/${owner}/${repository}/hooks`;\n\t\t\t\tconst options = this.getNodeParameter('options') as { insecureSSL: boolean };\n\n\t\t\t\tconst body = {\n\t\t\t\t\tname: 'web',\n\t\t\t\t\tconfig: {\n\t\t\t\t\t\turl: webhookUrl,\n\t\t\t\t\t\tcontent_type: 'json',\n\t\t\t\t\t\tinsecure_ssl: options.insecureSSL ? '1' : '0',\n\t\t\t\t\t},\n\t\t\t\t\tevents,\n\t\t\t\t\tactive: true,\n\t\t\t\t};\n\n\t\t\t\tconst webhookData = this.getWorkflowStaticData('node');\n\n\t\t\t\tlet responseData;\n\t\t\t\ttry {\n\t\t\t\t\tresponseData = await githubApiRequest.call(this, 'POST', endpoint, body);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error.cause.httpCode === '422') {\n\t\t\t\t\t\t// Webhook exists already\n\n\t\t\t\t\t\t// Get the data of the already registered webhook\n\t\t\t\t\t\tresponseData = await githubApiRequest.call(this, 'GET', endpoint, body);\n\n\t\t\t\t\t\tfor (const webhook of responseData as IDataObject[]) {\n\t\t\t\t\t\t\tif ((webhook.config! as IDataObject).url! === webhookUrl) {\n\t\t\t\t\t\t\t\t// Webhook got found\n\t\t\t\t\t\t\t\tif (JSON.stringify(webhook.events) === JSON.stringify(events)) {\n\t\t\t\t\t\t\t\t\t// Webhook with same events exists already so no need to\n\t\t\t\t\t\t\t\t\t// create it again simply save the webhook-id\n\t\t\t\t\t\t\t\t\twebhookData.webhookId = webhook.id as string;\n\t\t\t\t\t\t\t\t\twebhookData.webhookEvents = webhook.events as string[];\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthrow new NodeOperationError(\n\t\t\t\t\t\t\tthis.getNode(),\n\t\t\t\t\t\t\t'A webhook with the identical URL probably exists already. Please delete it manually on Github!',\n\t\t\t\t\t\t\t{ level: 'warning' },\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (error.cause.httpCode === '404') {\n\t\t\t\t\t\tthrow new NodeOperationError(\n\t\t\t\t\t\t\tthis.getNode(),\n\t\t\t\t\t\t\t'Check that the repository exists and that you have permission to create the webhooks this node requires',\n\t\t\t\t\t\t\t{ level: 'warning' },\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\n\t\t\t\tif (responseData.id === undefined || responseData.active !== true) {\n\t\t\t\t\t// Required data is missing so was not successful\n\t\t\t\t\tthrow new NodeApiError(this.getNode(), responseData as JsonObject, {\n\t\t\t\t\t\tmessage: 'Github webhook creation response did not contain the expected data.',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\twebhookData.webhookId = responseData.id as string;\n\t\t\t\twebhookData.webhookEvents = responseData.events as string[];\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tasync delete(this: IHookFunctions): Promise<boolean> {\n\t\t\t\tconst webhookData = this.getWorkflowStaticData('node');\n\n\t\t\t\tif (webhookData.webhookId !== undefined) {\n\t\t\t\t\tconst owner = this.getNodeParameter('owner', '', { extractValue: true }) as string;\n\t\t\t\t\tconst repository = this.getNodeParameter('repository', '', {\n\t\t\t\t\t\textractValue: true,\n\t\t\t\t\t}) as string;\n\t\t\t\t\tconst endpoint = `/repos/${owner}/${repository}/hooks/${webhookData.webhookId}`;\n\t\t\t\t\tconst body = {};\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait githubApiRequest.call(this, 'DELETE', endpoint, body);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove from the static workflow data so that it is clear\n\t\t\t\t\t// that no webhooks are registered anymore\n\t\t\t\t\tdelete webhookData.webhookId;\n\t\t\t\t\tdelete webhookData.webhookEvents;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t},\n\t};\n\n\tmethods = {\n\t\tlistSearch: {\n\t\t\tgetUsers,\n\t\t\tgetRepositories,\n\t\t},\n\t};\n\n\tasync webhook(this: IWebhookFunctions): Promise<IWebhookResponseData> {\n\t\tconst bodyData = this.getBodyData();\n\n\t\t// Check if the webhook is only the ping from Github to confirm if it workshook_id\n\t\tif (bodyData.hook_id !== undefined && bodyData.action === undefined) {\n\t\t\t// Is only the ping and not an actual webhook call. So return 'OK'\n\t\t\t// but do not start the workflow.\n\n\t\t\treturn {\n\t\t\t\twebhookResponse: 'OK',\n\t\t\t};\n\t\t}\n\n\t\t// Is a regular webhook call\n\n\t\t// TODO: Add headers & requestPath\n\t\tconst returnData: IDataObject[] = [];\n\n\t\treturnData.push({\n\t\t\tbody: bodyData,\n\t\t\theaders: this.getHeaderData(),\n\t\t\tquery: this.getQueryData(),\n\t\t});\n\n\t\treturn {\n\t\t\tworkflowData: [this.helpers.returnJsonArray(returnData)],\n\t\t};\n\t}\n}\n"],"mappings":"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","names":[]}