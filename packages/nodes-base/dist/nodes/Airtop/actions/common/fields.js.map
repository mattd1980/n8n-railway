{"version":3,"sources":["../../../../../nodes/Airtop/actions/common/fields.ts"],"sourcesContent":["import type { INodeProperties } from 'n8n-workflow';\n\nexport const SESSION_MODE = {\n\tNEW: 'new',\n\tEXISTING: 'existing',\n} as const;\n\n/**\n * Session related fields\n */\n\nexport const sessionIdField: INodeProperties = {\n\tdisplayName: 'Session ID',\n\tname: 'sessionId',\n\ttype: 'string',\n\trequired: true,\n\tdefault: '={{ $json[\"sessionId\"] }}',\n\tdescription:\n\t\t'The ID of the <a href=\"https://docs.airtop.ai/guides/how-to/creating-a-session\" target=\"_blank\">Session</a> to use',\n};\n\nexport const windowIdField: INodeProperties = {\n\tdisplayName: 'Window ID',\n\tname: 'windowId',\n\ttype: 'string',\n\trequired: true,\n\tdefault: '={{ $json[\"windowId\"] }}',\n\tdescription:\n\t\t'The ID of the <a href=\"https://docs.airtop.ai/guides/how-to/creating-a-session#windows\" target=\"_blank\">Window</a> to use',\n};\n\nexport const profileNameField: INodeProperties = {\n\tdisplayName: 'Profile Name',\n\tname: 'profileName',\n\ttype: 'string',\n\tdefault: '',\n\tdescription: 'The name of the Airtop profile to load or create',\n\thint: '<a href=\"https://docs.airtop.ai/guides/how-to/saving-a-profile\" target=\"_blank\">Learn more</a> about Airtop profiles',\n\tplaceholder: 'e.g. my-x-profile',\n};\n\nexport const urlField: INodeProperties = {\n\tdisplayName: 'URL',\n\tname: 'url',\n\ttype: 'string',\n\tdefault: '',\n\tplaceholder: 'e.g. https://google.com',\n\tdescription: 'URL to load in the window',\n};\n\n/**\n * Extraction related fields\n */\n\nexport const outputSchemaField: INodeProperties = {\n\tdisplayName: 'JSON Output Schema',\n\tname: 'outputSchema',\n\tdescription: 'JSON schema defining the structure of the output',\n\thint: 'If you want to force your output to be JSON, provide a valid JSON schema describing the output. You can generate one automatically in the <a href=\"https://portal.airtop.ai/\" target=\"_blank\">Airtop API Playground</a>.',\n\ttype: 'json',\n\tdefault: '',\n};\n\n/**\n * Interaction related fields\n */\n\nexport const elementDescriptionField: INodeProperties = {\n\tdisplayName: 'Element Description',\n\tname: 'elementDescription',\n\ttype: 'string',\n\tdefault: '',\n\tdescription: 'A specific description of the element to execute the interaction on',\n\tplaceholder: 'e.g. the search box at the top of the page',\n};\n\nexport function getSessionModeFields(resource: string, operations: string[]): INodeProperties[] {\n\treturn [\n\t\t{\n\t\t\tdisplayName: 'Session Mode',\n\t\t\tname: 'sessionMode',\n\t\t\ttype: 'options',\n\t\t\tdefault: 'existing',\n\t\t\tdescription: 'Choose between creating a new session or using an existing one',\n\t\t\toptions: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Automatically Create Session',\n\t\t\t\t\tdescription: 'Automatically create a new session and window for this operation',\n\t\t\t\t\tvalue: SESSION_MODE.NEW,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'Use Existing Session',\n\t\t\t\t\tdescription: 'Use an existing session and window for this operation',\n\t\t\t\t\tvalue: SESSION_MODE.EXISTING,\n\t\t\t\t},\n\t\t\t],\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tresource: [resource],\n\t\t\t\t\toperation: operations,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\t...sessionIdField,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tresource: [resource],\n\t\t\t\t\tsessionMode: [SESSION_MODE.EXISTING],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\t...windowIdField,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tresource: [resource],\n\t\t\t\t\tsessionMode: [SESSION_MODE.EXISTING],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\t...urlField,\n\t\t\trequired: true,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tresource: [resource],\n\t\t\t\t\tsessionMode: [SESSION_MODE.NEW],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\t...profileNameField,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tresource: [resource],\n\t\t\t\t\tsessionMode: [SESSION_MODE.NEW],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Auto-Terminate Session',\n\t\t\tname: 'autoTerminateSession',\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tdescription:\n\t\t\t\t'Whether to terminate the session after the operation is complete. When disabled, you must manually terminate the session. By default, idle sessions timeout after 10 minutes',\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\tresource: [resource],\n\t\t\t\t\tsessionMode: [SESSION_MODE.NEW],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t];\n}\n"],"mappings":"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","names":[]}