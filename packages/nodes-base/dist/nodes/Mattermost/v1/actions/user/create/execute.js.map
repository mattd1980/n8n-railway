{"version":3,"sources":["../../../../../../../nodes/Mattermost/v1/actions/user/create/execute.ts"],"sourcesContent":["import type { IExecuteFunctions, IDataObject, INodeExecutionData } from 'n8n-workflow';\n\nimport { apiRequest } from '../../../transport';\n\nexport async function create(\n\tthis: IExecuteFunctions,\n\tindex: number,\n): Promise<INodeExecutionData[]> {\n\tconst username = this.getNodeParameter('username', index) as string;\n\tconst authService = this.getNodeParameter('authService', index) as string;\n\tconst additionalFields = this.getNodeParameter('additionalFields', index);\n\n\tconst qs = {} as IDataObject;\n\tconst requestMethod = 'POST';\n\tconst endpoint = 'users';\n\tconst body = {} as IDataObject;\n\n\tbody.auth_service = authService;\n\n\tbody.username = username;\n\tObject.assign(body, additionalFields);\n\n\tif (body.notificationUi) {\n\t\tbody.notify_props = (body.notificationUi as IDataObject).notificationValues;\n\t}\n\n\tif (authService === 'email') {\n\t\tbody.email = this.getNodeParameter('email', index) as string;\n\t\tbody.password = this.getNodeParameter('password', index) as string;\n\t} else {\n\t\tbody.auth_data = this.getNodeParameter('authData', index) as string;\n\t}\n\n\tconst responseData = await apiRequest.call(this, requestMethod, endpoint, body, qs);\n\n\treturn this.helpers.returnJsonArray(responseData as IDataObject[]);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,uBAA2B;AAE3B,eAAsB,OAErB,OACgC;AAChC,QAAM,WAAW,KAAK,iBAAiB,YAAY,KAAK;AACxD,QAAM,cAAc,KAAK,iBAAiB,eAAe,KAAK;AAC9D,QAAM,mBAAmB,KAAK,iBAAiB,oBAAoB,KAAK;AAExE,QAAM,KAAK,CAAC;AACZ,QAAM,gBAAgB;AACtB,QAAM,WAAW;AACjB,QAAM,OAAO,CAAC;AAEd,OAAK,eAAe;AAEpB,OAAK,WAAW;AAChB,SAAO,OAAO,MAAM,gBAAgB;AAEpC,MAAI,KAAK,gBAAgB;AACxB,SAAK,eAAgB,KAAK,eAA+B;AAAA,EAC1D;AAEA,MAAI,gBAAgB,SAAS;AAC5B,SAAK,QAAQ,KAAK,iBAAiB,SAAS,KAAK;AACjD,SAAK,WAAW,KAAK,iBAAiB,YAAY,KAAK;AAAA,EACxD,OAAO;AACN,SAAK,YAAY,KAAK,iBAAiB,YAAY,KAAK;AAAA,EACzD;AAEA,QAAM,eAAe,MAAM,4BAAW,KAAK,MAAM,eAAe,UAAU,MAAM,EAAE;AAElF,SAAO,KAAK,QAAQ,gBAAgB,YAA6B;AAClE;","names":[]}