{"version":3,"sources":["../../../nodes/NextCloud/NextCloud.node.ts"],"sourcesContent":["import type {\n\tIBinaryKeyData,\n\tIDataObject,\n\tIExecuteFunctions,\n\tIHttpRequestMethods,\n\tINodeExecutionData,\n\tINodeType,\n\tINodeTypeDescription,\n\tJsonObject,\n} from 'n8n-workflow';\nimport { NodeApiError, NodeConnectionTypes, NodeOperationError } from 'n8n-workflow';\nimport { URLSearchParams } from 'url';\nimport { parseString } from 'xml2js';\n\nimport { nextCloudApiRequest } from './GenericFunctions';\nimport { wrapData } from '../../utils/utilities';\n\nexport class NextCloud implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'Nextcloud',\n\t\tname: 'nextCloud',\n\t\ticon: 'file:nextcloud.svg',\n\t\tgroup: ['input'],\n\t\tversion: 1,\n\t\tsubtitle: '={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}',\n\t\tdescription: 'Access data on Nextcloud',\n\t\tdefaults: {\n\t\t\tname: 'Nextcloud',\n\t\t},\n\t\tusableAsTool: true,\n\t\tinputs: [NodeConnectionTypes.Main],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tcredentials: [\n\t\t\t{\n\t\t\t\tname: 'nextCloudApi',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tauthentication: ['accessToken'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'nextCloudOAuth2Api',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tauthentication: ['oAuth2'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Authentication',\n\t\t\t\tname: 'authentication',\n\t\t\t\ttype: 'options',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Access Token',\n\t\t\t\t\t\tvalue: 'accessToken',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'OAuth2',\n\t\t\t\t\t\tvalue: 'oAuth2',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'accessToken',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Resource',\n\t\t\t\tname: 'resource',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'File',\n\t\t\t\t\t\tvalue: 'file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Folder',\n\t\t\t\t\t\tvalue: 'folder',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'User',\n\t\t\t\t\t\tvalue: 'user',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'file',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         operations\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Operation',\n\t\t\t\tname: 'operation',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['file'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Copy',\n\t\t\t\t\t\tvalue: 'copy',\n\t\t\t\t\t\tdescription: 'Copy a file',\n\t\t\t\t\t\taction: 'Copy a file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Delete',\n\t\t\t\t\t\tvalue: 'delete',\n\t\t\t\t\t\tdescription: 'Delete a file',\n\t\t\t\t\t\taction: 'Delete a file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Download',\n\t\t\t\t\t\tvalue: 'download',\n\t\t\t\t\t\tdescription: 'Download a file',\n\t\t\t\t\t\taction: 'Download a file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Move',\n\t\t\t\t\t\tvalue: 'move',\n\t\t\t\t\t\tdescription: 'Move a file',\n\t\t\t\t\t\taction: 'Move a file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Share',\n\t\t\t\t\t\tvalue: 'share',\n\t\t\t\t\t\tdescription: 'Share a file',\n\t\t\t\t\t\taction: 'Share a file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Upload',\n\t\t\t\t\t\tvalue: 'upload',\n\t\t\t\t\t\tdescription: 'Upload a file',\n\t\t\t\t\t\taction: 'Upload a file',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'upload',\n\t\t\t},\n\n\t\t\t{\n\t\t\t\tdisplayName: 'Operation',\n\t\t\t\tname: 'operation',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Copy',\n\t\t\t\t\t\tvalue: 'copy',\n\t\t\t\t\t\tdescription: 'Copy a folder',\n\t\t\t\t\t\taction: 'Copy a folder',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Create',\n\t\t\t\t\t\tvalue: 'create',\n\t\t\t\t\t\tdescription: 'Create a folder',\n\t\t\t\t\t\taction: 'Create a folder',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Delete',\n\t\t\t\t\t\tvalue: 'delete',\n\t\t\t\t\t\tdescription: 'Delete a folder',\n\t\t\t\t\t\taction: 'Delete a folder',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'List',\n\t\t\t\t\t\tvalue: 'list',\n\t\t\t\t\t\tdescription: 'Return the contents of a given folder',\n\t\t\t\t\t\taction: 'List a folder',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Move',\n\t\t\t\t\t\tvalue: 'move',\n\t\t\t\t\t\tdescription: 'Move a folder',\n\t\t\t\t\t\taction: 'Move a folder',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Share',\n\t\t\t\t\t\tvalue: 'share',\n\t\t\t\t\t\tdescription: 'Share a folder',\n\t\t\t\t\t\taction: 'Share a folder',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'create',\n\t\t\t},\n\n\t\t\t{\n\t\t\t\tdisplayName: 'Operation',\n\t\t\t\tname: 'operation',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Create',\n\t\t\t\t\t\tvalue: 'create',\n\t\t\t\t\t\tdescription: 'Invite a user to a NextCloud organization',\n\t\t\t\t\t\taction: 'Create a user',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Delete',\n\t\t\t\t\t\tvalue: 'delete',\n\t\t\t\t\t\tdescription: 'Delete a user',\n\t\t\t\t\t\taction: 'Delete a user',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Get',\n\t\t\t\t\t\tvalue: 'get',\n\t\t\t\t\t\tdescription: 'Retrieve information about a single user',\n\t\t\t\t\t\taction: 'Get a user',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Get Many',\n\t\t\t\t\t\tvalue: 'getAll',\n\t\t\t\t\t\tdescription: 'Retrieve a list of users',\n\t\t\t\t\t\taction: 'Get many users',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Update',\n\t\t\t\t\t\tvalue: 'update',\n\t\t\t\t\t\tdescription: 'Edit attributes related to a user',\n\t\t\t\t\t\taction: 'Update a user',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'create',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         file\n\t\t\t// ----------------------------------\n\n\t\t\t// ----------------------------------\n\t\t\t//         file/folder:copy\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'From Path',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['copy'],\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/original.txt',\n\t\t\t\tdescription: 'The path of file or folder to copy. The path should start with \"/\".',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'To Path',\n\t\t\t\tname: 'toPath',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['copy'],\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/copy.txt',\n\t\t\t\tdescription: 'The destination path of file or folder. The path should start with \"/\".',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         file/folder:delete\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Delete Path',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['delete'],\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/2019/invoice_1.pdf',\n\t\t\t\tdescription:\n\t\t\t\t\t'The path to delete. Can be a single file or a whole folder. The path should start with \"/\".',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         file/folder:move\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'From Path',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['move'],\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/old_name.txt',\n\t\t\t\tdescription: 'The path of file or folder to move. The path should start with \"/\".',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'To Path',\n\t\t\t\tname: 'toPath',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['move'],\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/new_name.txt',\n\t\t\t\tdescription: 'The new path of file or folder. The path should start with \"/\".',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         file:download\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'File Path',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['download'],\n\t\t\t\t\t\tresource: ['file'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/2019/invoice_1.pdf',\n\t\t\t\tdescription:\n\t\t\t\t\t'The file path of the file to download. Has to contain the full path. The path should start with \"/\".',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Put Output File in Field',\n\t\t\t\tname: 'binaryPropertyName',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'data',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['download'],\n\t\t\t\t\t\tresource: ['file'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\thint: 'The name of the output binary field to put the file in',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         file:upload\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'File Path',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['upload'],\n\t\t\t\t\t\tresource: ['file'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/2019/invoice_1.pdf',\n\t\t\t\tdescription:\n\t\t\t\t\t'The absolute file path of the file to upload. Has to contain the full path. The parent folder has to exist. Existing files get overwritten.',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Binary File',\n\t\t\t\tname: 'binaryDataUpload',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['upload'],\n\t\t\t\t\t\tresource: ['file'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'File Content',\n\t\t\t\tname: 'fileContent',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tbinaryDataUpload: [false],\n\t\t\t\t\t\toperation: ['upload'],\n\t\t\t\t\t\tresource: ['file'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '',\n\t\t\t\tdescription: 'The text content of the file to upload',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Input Binary Field',\n\t\t\t\tname: 'binaryPropertyName',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'data',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tbinaryDataUpload: [true],\n\t\t\t\t\t\toperation: ['upload'],\n\t\t\t\t\t\tresource: ['file'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '',\n\t\t\t\thint: 'The name of the input binary field containing the file to be uploaded',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         file:share\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'File Path',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['share'],\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/2019/invoice_1.pdf',\n\t\t\t\tdescription:\n\t\t\t\t\t'The file path of the file to share. Has to contain the full path. The path should start with \"/\".',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Share Type',\n\t\t\t\tname: 'shareType',\n\t\t\t\ttype: 'options',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['share'],\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Circle',\n\t\t\t\t\t\tvalue: 7,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Email',\n\t\t\t\t\t\tvalue: 4,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Group',\n\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Public Link',\n\t\t\t\t\t\tvalue: 3,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'User',\n\t\t\t\t\t\tvalue: 0,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 0,\n\t\t\t\tdescription: 'The share permissions to set',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Circle ID',\n\t\t\t\tname: 'circleId',\n\t\t\t\ttype: 'string',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t\toperation: ['share'],\n\t\t\t\t\t\tshareType: [7],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: '',\n\t\t\t\tdescription: 'The ID of the circle to share with',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Email',\n\t\t\t\tname: 'email',\n\t\t\t\ttype: 'string',\n\t\t\t\tplaceholder: 'name@email.com',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t\toperation: ['share'],\n\t\t\t\t\t\tshareType: [4],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: '',\n\t\t\t\tdescription: 'The Email address to share with',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Group ID',\n\t\t\t\tname: 'groupId',\n\t\t\t\ttype: 'string',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t\toperation: ['share'],\n\t\t\t\t\t\tshareType: [1],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: '',\n\t\t\t\tdescription: 'The ID of the group to share with',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'User',\n\t\t\t\tname: 'user',\n\t\t\t\ttype: 'string',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t\toperation: ['share'],\n\t\t\t\t\t\tshareType: [0],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: '',\n\t\t\t\tdescription: 'The user to share with',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Options',\n\t\t\t\tname: 'options',\n\t\t\t\ttype: 'collection',\n\t\t\t\tplaceholder: 'Add option',\n\t\t\t\tdefault: {},\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['file', 'folder'],\n\t\t\t\t\t\toperation: ['share'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Password',\n\t\t\t\t\t\tname: 'password',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\ttypeOptions: { password: true },\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t'/resource': ['file', 'folder'],\n\t\t\t\t\t\t\t\t'/operation': ['share'],\n\t\t\t\t\t\t\t\t'/shareType': [3],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'Optional search string',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Permissions',\n\t\t\t\t\t\tname: 'permissions',\n\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'All',\n\t\t\t\t\t\t\t\tvalue: 31,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Create',\n\t\t\t\t\t\t\t\tvalue: 4,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Delete',\n\t\t\t\t\t\t\t\tvalue: 8,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Read',\n\t\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Update',\n\t\t\t\t\t\t\t\tvalue: 2,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdefault: 1,\n\t\t\t\t\t\tdescription: 'The share permissions to set',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         folder\n\t\t\t// ----------------------------------\n\n\t\t\t// ----------------------------------\n\t\t\t//         folder:create\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Folder',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['create'],\n\t\t\t\t\t\tresource: ['folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/2019',\n\t\t\t\tdescription:\n\t\t\t\t\t'The folder to create. The parent folder has to exist. The path should start with \"/\".',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         folder:list\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Folder Path',\n\t\t\t\tname: 'path',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['list'],\n\t\t\t\t\t\tresource: ['folder'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: '/invoices/2019/',\n\t\t\t\tdescription: 'The path of which to list the content. The path should start with \"/\".',\n\t\t\t},\n\n\t\t\t// ----------------------------------\n\t\t\t//         user\n\t\t\t// ----------------------------------\n\n\t\t\t// ----------------------------------\n\t\t\t//         user:create\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Username',\n\t\t\t\tname: 'userId',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['create'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: 'john',\n\t\t\t\tdescription: 'Username the user will have',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Email',\n\t\t\t\tname: 'email',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['create'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: 'john@email.com',\n\t\t\t\tdescription: 'The email of the user to invite',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Additional Fields',\n\t\t\t\tname: 'additionalFields',\n\t\t\t\ttype: 'collection',\n\t\t\t\tplaceholder: 'Add Field',\n\t\t\t\tdefault: {},\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['create'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Display Name',\n\t\t\t\t\t\tname: 'displayName',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'The display name of the user to invite',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t// ----------------------------------\n\t\t\t//         user:get/delete/update\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Username',\n\t\t\t\tname: 'userId',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['delete', 'get', 'update'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplaceholder: 'john',\n\t\t\t\tdescription: 'Username the user will have',\n\t\t\t},\n\t\t\t// ----------------------------------\n\t\t\t//         user:getAll\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Return All',\n\t\t\t\tname: 'returnAll',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['getAll'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: false,\n\t\t\t\tdescription: 'Whether to return all results or only up to a given limit',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Limit',\n\t\t\t\tname: 'limit',\n\t\t\t\ttype: 'number',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['getAll'],\n\t\t\t\t\t\treturnAll: [false],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttypeOptions: {\n\t\t\t\t\tminValue: 1,\n\t\t\t\t\tmaxValue: 100,\n\t\t\t\t},\n\t\t\t\tdefault: 50,\n\t\t\t\tdescription: 'Max number of results to return',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Options',\n\t\t\t\tname: 'options',\n\t\t\t\ttype: 'collection',\n\t\t\t\tplaceholder: 'Add option',\n\t\t\t\tdefault: {},\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['getAll'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Search',\n\t\t\t\t\t\tname: 'search',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'Optional search string',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Offset',\n\t\t\t\t\t\tname: 'offset',\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'Optional offset value',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t// ----------------------------------\n\t\t\t//         user:update\n\t\t\t// ----------------------------------\n\t\t\t{\n\t\t\t\tdisplayName: 'Update Fields',\n\t\t\t\tname: 'updateFields',\n\t\t\t\ttype: 'fixedCollection',\n\t\t\t\ttypeOptions: {\n\t\t\t\t\tmultipleValues: false,\n\t\t\t\t},\n\t\t\t\tplaceholder: 'Add option',\n\t\t\t\tdefault: {},\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['user'],\n\t\t\t\t\t\toperation: ['update'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Fields',\n\t\t\t\t\t\tname: 'field',\n\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Key',\n\t\t\t\t\t\t\t\tname: 'key',\n\t\t\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\t\t\tdefault: 'email',\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Address',\n\t\t\t\t\t\t\t\t\t\tvalue: 'address',\n\t\t\t\t\t\t\t\t\t\tdescription: 'The new address for the user',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Display Name',\n\t\t\t\t\t\t\t\t\t\tvalue: 'displayname',\n\t\t\t\t\t\t\t\t\t\tdescription: 'The new display name for the user',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Email',\n\t\t\t\t\t\t\t\t\t\tvalue: 'email',\n\t\t\t\t\t\t\t\t\t\tdescription: 'The new email for the user',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Password',\n\t\t\t\t\t\t\t\t\t\tvalue: 'password',\n\t\t\t\t\t\t\t\t\t\tdescription: 'The new password for the user',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Twitter',\n\t\t\t\t\t\t\t\t\t\tvalue: 'twitter',\n\t\t\t\t\t\t\t\t\t\tdescription: 'The new twitter handle for the user',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Website',\n\t\t\t\t\t\t\t\t\t\tvalue: 'website',\n\t\t\t\t\t\t\t\t\t\tdescription: 'The new website for the user',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tdescription: 'Key of the updated attribute',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Value',\n\t\t\t\t\t\t\t\tname: 'value',\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\tdescription: 'Value of the updated attribute',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t};\n\n\tasync execute(this: IExecuteFunctions): Promise<INodeExecutionData[][]> {\n\t\tconst items = this.getInputData().slice();\n\t\tconst returnData: INodeExecutionData[] = [];\n\n\t\tconst authenticationMethod = this.getNodeParameter('authentication', 0);\n\t\tlet credentials;\n\n\t\tif (authenticationMethod === 'accessToken') {\n\t\t\tcredentials = await this.getCredentials('nextCloudApi');\n\t\t} else {\n\t\t\tcredentials = await this.getCredentials('nextCloudOAuth2Api');\n\t\t}\n\n\t\tconst resource = this.getNodeParameter('resource', 0);\n\t\tconst operation = this.getNodeParameter('operation', 0);\n\n\t\tlet endpoint = '';\n\t\tlet requestMethod: IHttpRequestMethods = 'GET';\n\t\tlet responseData: any;\n\n\t\tlet body: string | Buffer | IDataObject = '';\n\t\tconst headers: IDataObject = {};\n\t\tlet qs;\n\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\ttry {\n\t\t\t\tif (resource === 'file') {\n\t\t\t\t\tif (operation === 'download') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         download\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'GET';\n\t\t\t\t\t\tendpoint = this.getNodeParameter('path', i) as string;\n\t\t\t\t\t} else if (operation === 'upload') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         upload\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'PUT';\n\t\t\t\t\t\tendpoint = this.getNodeParameter('path', i) as string;\n\n\t\t\t\t\t\tif (this.getNodeParameter('binaryDataUpload', i) === true) {\n\t\t\t\t\t\t\tconst binaryPropertyName = this.getNodeParameter('binaryPropertyName', i);\n\t\t\t\t\t\t\tthis.helpers.assertBinaryData(i, binaryPropertyName);\n\t\t\t\t\t\t\tbody = await this.helpers.getBinaryDataBuffer(i, binaryPropertyName);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Is text file\n\t\t\t\t\t\t\tbody = this.getNodeParameter('fileContent', i) as string;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (resource === 'folder') {\n\t\t\t\t\tif (operation === 'create') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         create\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'MKCOL' as IHttpRequestMethods;\n\t\t\t\t\t\tendpoint = this.getNodeParameter('path', i) as string;\n\t\t\t\t\t} else if (operation === 'list') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         list\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'PROPFIND' as IHttpRequestMethods;\n\t\t\t\t\t\tendpoint = this.getNodeParameter('path', i) as string;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (['file', 'folder'].includes(resource)) {\n\t\t\t\t\tif (operation === 'copy') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         copy\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'COPY' as IHttpRequestMethods;\n\t\t\t\t\t\tendpoint = this.getNodeParameter('path', i) as string;\n\t\t\t\t\t\tconst toPath = this.getNodeParameter('toPath', i) as string;\n\t\t\t\t\t\theaders.Destination = `${credentials.webDavUrl}/${encodeURI(toPath)}`;\n\t\t\t\t\t} else if (operation === 'delete') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         delete\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'DELETE';\n\t\t\t\t\t\tendpoint = this.getNodeParameter('path', i) as string;\n\t\t\t\t\t} else if (operation === 'move') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         move\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'MOVE' as IHttpRequestMethods;\n\t\t\t\t\t\tendpoint = this.getNodeParameter('path', i) as string;\n\t\t\t\t\t\tconst toPath = this.getNodeParameter('toPath', i) as string;\n\t\t\t\t\t\theaders.Destination = `${credentials.webDavUrl}/${encodeURI(toPath)}`;\n\t\t\t\t\t} else if (operation === 'share') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         share\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'POST';\n\n\t\t\t\t\t\tendpoint = 'ocs/v2.php/apps/files_sharing/api/v1/shares';\n\n\t\t\t\t\t\theaders['OCS-APIRequest'] = true;\n\t\t\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\n\t\t\t\t\t\tconst bodyParameters = this.getNodeParameter('options', i);\n\n\t\t\t\t\t\tbodyParameters.path = this.getNodeParameter('path', i) as string;\n\t\t\t\t\t\tbodyParameters.shareType = this.getNodeParameter('shareType', i) as number;\n\n\t\t\t\t\t\tif (bodyParameters.shareType === 0) {\n\t\t\t\t\t\t\tbodyParameters.shareWith = this.getNodeParameter('user', i) as string;\n\t\t\t\t\t\t} else if (bodyParameters.shareType === 7) {\n\t\t\t\t\t\t\tbodyParameters.shareWith = this.getNodeParameter('circleId', i) as number;\n\t\t\t\t\t\t} else if (bodyParameters.shareType === 4) {\n\t\t\t\t\t\t\tbodyParameters.shareWith = this.getNodeParameter('email', i) as string;\n\t\t\t\t\t\t} else if (bodyParameters.shareType === 1) {\n\t\t\t\t\t\t\tbodyParameters.shareWith = this.getNodeParameter('groupId', i) as number;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tbody = new URLSearchParams(bodyParameters).toString();\n\t\t\t\t\t}\n\t\t\t\t} else if (resource === 'user') {\n\t\t\t\t\tif (operation === 'create') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         user:create\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'POST';\n\n\t\t\t\t\t\tendpoint = 'ocs/v1.php/cloud/users';\n\n\t\t\t\t\t\theaders['OCS-APIRequest'] = true;\n\t\t\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\n\t\t\t\t\t\tconst userid = this.getNodeParameter('userId', i) as string;\n\t\t\t\t\t\tconst email = this.getNodeParameter('email', i) as string;\n\n\t\t\t\t\t\tbody = `userid=${userid}&email=${email}`;\n\n\t\t\t\t\t\tconst additionalFields = this.getNodeParameter('additionalFields', i);\n\n\t\t\t\t\t\tif (additionalFields.displayName) {\n\t\t\t\t\t\t\tbody += `&displayName=${additionalFields.displayName}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (operation === 'delete') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         user:delete\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'DELETE';\n\n\t\t\t\t\t\tconst userid = this.getNodeParameter('userId', i) as string;\n\t\t\t\t\t\tendpoint = `ocs/v1.php/cloud/users/${userid}`;\n\n\t\t\t\t\t\theaders['OCS-APIRequest'] = true;\n\t\t\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t\t\t\t}\n\t\t\t\t\tif (operation === 'get') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         user:get\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'GET';\n\n\t\t\t\t\t\tconst userid = this.getNodeParameter('userId', i) as string;\n\t\t\t\t\t\tendpoint = `ocs/v1.php/cloud/users/${userid}`;\n\n\t\t\t\t\t\theaders['OCS-APIRequest'] = true;\n\t\t\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t\t\t\t}\n\t\t\t\t\tif (operation === 'getAll') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         user:getAll\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'GET';\n\t\t\t\t\t\tconst returnAll = this.getNodeParameter('returnAll', i);\n\t\t\t\t\t\tqs = this.getNodeParameter('options', i);\n\t\t\t\t\t\tif (!returnAll) {\n\t\t\t\t\t\t\tqs.limit = this.getNodeParameter('limit', i);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tendpoint = 'ocs/v1.php/cloud/users';\n\n\t\t\t\t\t\theaders['OCS-APIRequest'] = true;\n\t\t\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t\t\t\t}\n\t\t\t\t\tif (operation === 'update') {\n\t\t\t\t\t\t// ----------------------------------\n\t\t\t\t\t\t//         user:update\n\t\t\t\t\t\t// ----------------------------------\n\n\t\t\t\t\t\trequestMethod = 'PUT';\n\n\t\t\t\t\t\tconst userid = this.getNodeParameter('userId', i) as string;\n\t\t\t\t\t\tendpoint = `ocs/v1.php/cloud/users/${userid}`;\n\n\t\t\t\t\t\tbody = Object.entries(this.getNodeParameter('updateFields', i).field as IDataObject)\n\t\t\t\t\t\t\t.map((entry) => {\n\t\t\t\t\t\t\t\tconst [key, value] = entry;\n\t\t\t\t\t\t\t\treturn `${key}=${value}`;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.join('&');\n\n\t\t\t\t\t\theaders['OCS-APIRequest'] = true;\n\t\t\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new NodeOperationError(this.getNode(), `The resource \"${resource}\" is not known!`, {\n\t\t\t\t\t\titemIndex: i,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Make sure that the webdav URL does never have a trailing slash because\n\t\t\t\t// one gets added always automatically\n\t\t\t\tlet webDavUrl = credentials.webDavUrl as string;\n\t\t\t\tif (webDavUrl.slice(-1) === '/') {\n\t\t\t\t\twebDavUrl = webDavUrl.slice(0, -1);\n\t\t\t\t}\n\n\t\t\t\tlet encoding = undefined;\n\t\t\t\tif (resource === 'file' && operation === 'download') {\n\t\t\t\t\t// Return the data as a buffer\n\t\t\t\t\tencoding = null;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tresponseData = await nextCloudApiRequest.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\trequestMethod,\n\t\t\t\t\t\tendpoint,\n\t\t\t\t\t\tbody,\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tencoding,\n\t\t\t\t\t\tqs,\n\t\t\t\t\t);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (this.continueOnFail()) {\n\t\t\t\t\t\tif (resource === 'file' && operation === 'download') {\n\t\t\t\t\t\t\titems[i].json = { error: error.message };\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturnData.push({ json: { error: error.message }, pairedItem: { item: i } });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\n\t\t\t\tif (resource === 'file' && operation === 'download') {\n\t\t\t\t\tconst newItem: INodeExecutionData = {\n\t\t\t\t\t\tjson: items[i].json,\n\t\t\t\t\t\tpairedItem: { item: i },\n\t\t\t\t\t\tbinary: {},\n\t\t\t\t\t};\n\n\t\t\t\t\tif (items[i].binary !== undefined) {\n\t\t\t\t\t\t// Create a shallow copy of the binary data so that the old\n\t\t\t\t\t\t// data references which do not get changed still stay behind\n\t\t\t\t\t\t// but the incoming data does not get changed.\n\t\t\t\t\t\tObject.assign(newItem.binary as IBinaryKeyData, items[i].binary);\n\t\t\t\t\t}\n\n\t\t\t\t\titems[i] = newItem;\n\n\t\t\t\t\tconst binaryPropertyName = this.getNodeParameter('binaryPropertyName', i);\n\n\t\t\t\t\titems[i].binary![binaryPropertyName] = await this.helpers.prepareBinaryData(\n\t\t\t\t\t\tresponseData as Buffer,\n\t\t\t\t\t\tendpoint,\n\t\t\t\t\t);\n\t\t\t\t} else if (['file', 'folder'].includes(resource) && operation === 'share') {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-loop-func\n\t\t\t\t\tconst jsonResponseData: IDataObject = await new Promise((resolve, reject) => {\n\t\t\t\t\t\tparseString(responseData as string, { explicitArray: false }, (err, data) => {\n\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\treturn reject(err);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (data.ocs.meta.status !== 'ok') {\n\t\t\t\t\t\t\t\treturn reject(\n\t\t\t\t\t\t\t\t\tnew NodeApiError(\n\t\t\t\t\t\t\t\t\t\tthis.getNode(),\n\t\t\t\t\t\t\t\t\t\t(data.ocs.meta.message as JsonObject) || (data.ocs.meta.status as JsonObject),\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve(data.ocs.data as IDataObject);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tconst executionData = this.helpers.constructExecutionMetaData(\n\t\t\t\t\t\twrapData(jsonResponseData),\n\t\t\t\t\t\t{ itemData: { item: i } },\n\t\t\t\t\t);\n\n\t\t\t\t\treturnData.push(...executionData);\n\t\t\t\t} else if (resource === 'user') {\n\t\t\t\t\tif (operation !== 'getAll') {\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-loop-func\n\t\t\t\t\t\tconst jsonResponseData: IDataObject = await new Promise((resolve, reject) => {\n\t\t\t\t\t\t\tparseString(responseData as string, { explicitArray: false }, (err, data) => {\n\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\treturn reject(err);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (data.ocs.meta.status !== 'ok') {\n\t\t\t\t\t\t\t\t\treturn reject(\n\t\t\t\t\t\t\t\t\t\tnew NodeApiError(\n\t\t\t\t\t\t\t\t\t\t\tthis.getNode(),\n\t\t\t\t\t\t\t\t\t\t\t(data.ocs.meta.message || data.ocs.meta.status) as JsonObject,\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (operation === 'delete' || operation === 'update') {\n\t\t\t\t\t\t\t\t\tresolve(data.ocs.meta as IDataObject);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tresolve(data.ocs.data as IDataObject);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst executionData = this.helpers.constructExecutionMetaData(\n\t\t\t\t\t\t\twrapData(jsonResponseData),\n\t\t\t\t\t\t\t{ itemData: { item: i } },\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturnData.push(...executionData);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-loop-func\n\t\t\t\t\t\tconst jsonResponseData: IDataObject[] = await new Promise((resolve, reject) => {\n\t\t\t\t\t\t\tparseString(responseData as string, { explicitArray: false }, (err, data) => {\n\t\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\t\treturn reject(err);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (data.ocs.meta.status !== 'ok') {\n\t\t\t\t\t\t\t\t\treturn reject(\n\t\t\t\t\t\t\t\t\t\tnew NodeApiError(this.getNode(), data.ocs.meta.message as JsonObject),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof data.ocs.data.users.element === 'string') {\n\t\t\t\t\t\t\t\t\tresolve([data.ocs.data.users.element] as IDataObject[]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tresolve(data.ocs.data.users.element as IDataObject[]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tjsonResponseData.forEach((value) => {\n\t\t\t\t\t\t\treturnData.push({ json: { id: value }, pairedItem: { item: i } });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else if (resource === 'folder' && operation === 'list') {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-loop-func\n\t\t\t\t\tconst jsonResponseData: IDataObject = await new Promise((resolve, reject) => {\n\t\t\t\t\t\tparseString(responseData as string, { explicitArray: false }, (err, data) => {\n\t\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\t\treturn reject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(data as IDataObject);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tconst propNames: { [key: string]: string } = {\n\t\t\t\t\t\t'd:getlastmodified': 'lastModified',\n\t\t\t\t\t\t'd:getcontentlength': 'contentLength',\n\t\t\t\t\t\t'd:getcontenttype': 'contentType',\n\t\t\t\t\t};\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tjsonResponseData['d:multistatus'] !== undefined &&\n\t\t\t\t\t\tjsonResponseData['d:multistatus'] !== null &&\n\t\t\t\t\t\t(jsonResponseData['d:multistatus'] as IDataObject)['d:response'] !== undefined &&\n\t\t\t\t\t\t(jsonResponseData['d:multistatus'] as IDataObject)['d:response'] !== null\n\t\t\t\t\t) {\n\t\t\t\t\t\tlet skippedFirst = false;\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tif (Array.isArray(jsonResponseData['d:multistatus']['d:response'])) {\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\tfor (const item of jsonResponseData['d:multistatus']['d:response']) {\n\t\t\t\t\t\t\t\tif (!skippedFirst) {\n\t\t\t\t\t\t\t\t\tskippedFirst = true;\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst newItem: IDataObject = {};\n\n\t\t\t\t\t\t\t\tnewItem.path = item['d:href'].slice(19);\n\n\t\t\t\t\t\t\t\tlet props: IDataObject = {};\n\t\t\t\t\t\t\t\tif (Array.isArray(item['d:propstat'])) {\n\t\t\t\t\t\t\t\t\tprops = item['d:propstat'][0]['d:prop'] as IDataObject;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tprops = item['d:propstat']['d:prop'] as IDataObject;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Get the props and save them under a proper name\n\t\t\t\t\t\t\t\tfor (const propName of Object.keys(propNames)) {\n\t\t\t\t\t\t\t\t\tif (props[propName] !== undefined) {\n\t\t\t\t\t\t\t\t\t\tnewItem[propNames[propName]] = props[propName];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (props['d:resourcetype'] === '') {\n\t\t\t\t\t\t\t\t\tnewItem.type = 'file';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewItem.type = 'folder';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\tnewItem.eTag = props['d:getetag'].slice(1, -1);\n\n\t\t\t\t\t\t\t\treturnData.push({ json: newItem, pairedItem: { item: i } });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst executionData = this.helpers.constructExecutionMetaData(wrapData(responseData), {\n\t\t\t\t\t\titemData: { item: i },\n\t\t\t\t\t});\n\n\t\t\t\t\treturnData.push(...executionData);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (this.continueOnFail()) {\n\t\t\t\t\tif (resource === 'file' && operation === 'download') {\n\t\t\t\t\t\titems[i].json = { error: error.message };\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturnData.push({ json: { error: error.message }, pairedItem: { item: i } });\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\tif (resource === 'file' && operation === 'download') {\n\t\t\t// For file downloads the files get attached to the existing items\n\t\t\treturn [items];\n\t\t} else {\n\t\t\t// For all other ones does the output get replaced\n\t\t\treturn [returnData];\n\t\t}\n\t}\n}\n"],"mappings":"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","names":[]}