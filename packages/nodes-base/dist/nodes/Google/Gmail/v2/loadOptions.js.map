{"version":3,"sources":["../../../../../nodes/Google/Gmail/v2/loadOptions.ts"],"sourcesContent":["import type { ILoadOptionsFunctions, INodePropertyOptions } from 'n8n-workflow';\n\nimport { googleApiRequest, getLabels } from '../GenericFunctions';\n\nexport async function getThreadMessages(\n\tthis: ILoadOptionsFunctions,\n): Promise<INodePropertyOptions[]> {\n\tconst returnData: INodePropertyOptions[] = [];\n\n\tconst id = this.getNodeParameter('threadId', 0) as string;\n\tconst { messages } = await googleApiRequest.call(\n\t\tthis,\n\t\t'GET',\n\t\t`/gmail/v1/users/me/threads/${id}`,\n\t\t{},\n\t\t{ format: 'minimal' },\n\t);\n\n\tfor (const message of messages || []) {\n\t\treturnData.push({\n\t\t\tname: message.snippet,\n\t\t\tvalue: message.id,\n\t\t});\n\t}\n\n\treturn returnData;\n}\n\nexport async function getGmailAliases(\n\tthis: ILoadOptionsFunctions,\n): Promise<INodePropertyOptions[]> {\n\tconst returnData: INodePropertyOptions[] = [];\n\tconst { sendAs } = await googleApiRequest.call(this, 'GET', '/gmail/v1/users/me/settings/sendAs');\n\n\tfor (const alias of sendAs || []) {\n\t\tconst displayName = alias.isDefault ? `${alias.sendAsEmail} (Default)` : alias.sendAsEmail;\n\t\treturnData.push({\n\t\t\tname: displayName,\n\t\t\tvalue: alias.sendAsEmail,\n\t\t});\n\t}\n\n\treturn returnData;\n}\n\nexport { getLabels };\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,8BAA4C;AAE5C,eAAsB,oBAEa;AAClC,QAAM,aAAqC,CAAC;AAE5C,QAAM,KAAK,KAAK,iBAAiB,YAAY,CAAC;AAC9C,QAAM,EAAE,SAAS,IAAI,MAAM,yCAAiB;AAAA,IAC3C;AAAA,IACA;AAAA,IACA,8BAA8B,EAAE;AAAA,IAChC,CAAC;AAAA,IACD,EAAE,QAAQ,UAAU;AAAA,EACrB;AAEA,aAAW,WAAW,YAAY,CAAC,GAAG;AACrC,eAAW,KAAK;AAAA,MACf,MAAM,QAAQ;AAAA,MACd,OAAO,QAAQ;AAAA,IAChB,CAAC;AAAA,EACF;AAEA,SAAO;AACR;AAEA,eAAsB,kBAEa;AAClC,QAAM,aAAqC,CAAC;AAC5C,QAAM,EAAE,OAAO,IAAI,MAAM,yCAAiB,KAAK,MAAM,OAAO,oCAAoC;AAEhG,aAAW,SAAS,UAAU,CAAC,GAAG;AACjC,UAAM,cAAc,MAAM,YAAY,GAAG,MAAM,WAAW,eAAe,MAAM;AAC/E,eAAW,KAAK;AAAA,MACf,MAAM;AAAA,MACN,OAAO,MAAM;AAAA,IACd,CAAC;AAAA,EACF;AAEA,SAAO;AACR;","names":[]}