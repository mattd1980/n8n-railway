{"version":3,"sources":["../../../../../../../nodes/Google/Analytics/v2/actions/report/get.universal.operation.ts"],"sourcesContent":["import type {\n\tIExecuteFunctions,\n\tIDataObject,\n\tINodeExecutionData,\n\tINodeProperties,\n} from 'n8n-workflow';\n\nimport type { IData, IDimension, IMetric } from '../../helpers/Interfaces';\nimport {\n\tcheckDuplicates,\n\tdefaultEndDate,\n\tdefaultStartDate,\n\tmerge,\n\tprepareDateRange,\n\tsimplify,\n} from '../../helpers/utils';\nimport { googleApiRequest, googleApiRequestAllItems } from '../../transport';\n\nconst dimensionDropdown: INodeProperties[] = [\n\t{\n\t\tdisplayName: 'Dimension',\n\t\tname: 'listName',\n\t\ttype: 'options',\n\t\tdefault: 'ga:date',\n\t\t// eslint-disable-next-line n8n-nodes-base/node-param-options-type-unsorted-items\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'Browser',\n\t\t\t\tvalue: 'ga:browser',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Campaign',\n\t\t\t\tvalue: 'ga:campaign',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'City',\n\t\t\t\tvalue: 'ga:city',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Country',\n\t\t\t\tvalue: 'ga:country',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Date',\n\t\t\t\tvalue: 'ga:date',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Device Category',\n\t\t\t\tvalue: 'ga:deviceCategory',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Item Name',\n\t\t\t\tvalue: 'ga:productName',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Language',\n\t\t\t\tvalue: 'ga:language',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Page',\n\t\t\t\tvalue: 'ga:pagePath',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Source / Medium',\n\t\t\t\tvalue: 'ga:sourceMedium',\n\t\t\t},\n\t\t\t{\n\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\tname: 'Other dimensions…',\n\t\t\t\tvalue: 'other',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tdisplayName: 'Name or ID',\n\t\tname: 'name',\n\t\ttype: 'options',\n\t\ttypeOptions: {\n\t\t\tloadOptionsMethod: 'getDimensions',\n\t\t\tloadOptionsDependsOn: ['viewId.value'],\n\t\t},\n\t\tdefault: 'ga:date',\n\t\tdescription:\n\t\t\t'Name of the dimension to fetch, for example ga:browser. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tlistName: ['other'],\n\t\t\t},\n\t\t},\n\t},\n];\n\nexport const description: INodeProperties[] = [\n\t{\n\t\tdisplayName: 'View',\n\t\tname: 'viewId',\n\t\ttype: 'resourceLocator',\n\t\tdefault: { mode: 'list', value: '' },\n\t\trequired: true,\n\t\tdescription: 'The View of Google Analytics',\n\t\thint: \"If this doesn't work, try changing the 'Property Type' field above\",\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tdisplayName: 'From List',\n\t\t\t\tname: 'list',\n\t\t\t\ttype: 'list',\n\t\t\t\tplaceholder: 'Select a view...',\n\t\t\t\ttypeOptions: {\n\t\t\t\t\tsearchListMethod: 'searchViews',\n\t\t\t\t\tsearchFilterRequired: false,\n\t\t\t\t\tsearchable: false,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'By URL',\n\t\t\t\tname: 'url',\n\t\t\t\ttype: 'string',\n\t\t\t\tplaceholder: 'https://analytics.google.com/analytics/...',\n\t\t\t\tvalidation: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tregex: '.*analytics.google.com/analytics.*p[0-9]{1,}.*',\n\t\t\t\t\t\t\terrorMessage: 'Not a valid Google Analytics URL',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\textractValue: {\n\t\t\t\t\ttype: 'regex',\n\t\t\t\t\tregex: '.*analytics.google.com/analytics.*p([0-9]{1,})',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'By ID',\n\t\t\t\tname: 'id',\n\t\t\t\ttype: 'string',\n\t\t\t\tplaceholder: '123456',\n\t\t\t\tvalidation: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tregex: '[0-9]{1,}',\n\t\t\t\t\t\t\terrorMessage: 'Not a valid Google Analytics View ID',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tresource: ['report'],\n\t\t\t\toperation: ['get'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Date Range',\n\t\tname: 'dateRange',\n\t\ttype: 'options',\n\t\trequired: true,\n\t\t// eslint-disable-next-line n8n-nodes-base/node-param-options-type-unsorted-items\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'Last 7 Days',\n\t\t\t\tvalue: 'last7days',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Last 30 Days',\n\t\t\t\tvalue: 'last30days',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Today',\n\t\t\t\tvalue: 'today',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Yesterday',\n\t\t\t\tvalue: 'yesterday',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Last Complete Calendar Week',\n\t\t\t\tvalue: 'lastCalendarWeek',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Last Complete Calendar Month',\n\t\t\t\tvalue: 'lastCalendarMonth',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Custom',\n\t\t\t\tvalue: 'custom',\n\t\t\t},\n\t\t],\n\t\tdefault: 'last7days',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tresource: ['report'],\n\t\t\t\toperation: ['get'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Start',\n\t\tname: 'startDate',\n\t\ttype: 'dateTime',\n\t\trequired: true,\n\t\tdefault: defaultStartDate(),\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tresource: ['report'],\n\t\t\t\toperation: ['get'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t\tdateRange: ['custom'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'End',\n\t\tname: 'endDate',\n\t\ttype: 'dateTime',\n\t\trequired: true,\n\t\tdefault: defaultEndDate(),\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tresource: ['report'],\n\t\t\t\toperation: ['get'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t\tdateRange: ['custom'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Metrics',\n\t\tname: 'metricsUA',\n\t\ttype: 'fixedCollection',\n\t\tdefault: { metricValues: [{ listName: 'ga:users' }] },\n\t\ttypeOptions: {\n\t\t\tmultipleValues: true,\n\t\t},\n\t\tplaceholder: 'Add metric',\n\t\tdescription: 'Metrics in the request',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Metric',\n\t\t\t\tname: 'metricValues',\n\t\t\t\tvalues: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Metric',\n\t\t\t\t\t\tname: 'listName',\n\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\tdefault: 'ga:users',\n\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-options-type-unsorted-items\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Checkouts',\n\t\t\t\t\t\t\t\tvalue: 'ga:productCheckouts',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Events',\n\t\t\t\t\t\t\t\tvalue: 'ga:totalEvents',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Page Views',\n\t\t\t\t\t\t\t\tvalue: 'ga:pageviews',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Session Duration',\n\t\t\t\t\t\t\t\tvalue: 'ga:sessionDuration',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Sessions',\n\t\t\t\t\t\t\t\tvalue: 'ga:sessions',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Sessions per User',\n\t\t\t\t\t\t\t\tvalue: 'ga:sessionsPerUser',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Total Users',\n\t\t\t\t\t\t\t\tvalue: 'ga:users',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\tname: 'Other metrics…',\n\t\t\t\t\t\t\t\tvalue: 'other',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\tname: 'Custom metric…',\n\t\t\t\t\t\t\t\tvalue: 'custom',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Name or ID',\n\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tloadOptionsMethod: 'getMetrics',\n\t\t\t\t\t\t\tloadOptionsDependsOn: ['viewId.value'],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault: 'ga:users',\n\t\t\t\t\t\thint: 'If expression is specified, name can be any string that you would like',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'The name of the metric. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\tlistName: ['other'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Name',\n\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: 'custom_metric',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\tlistName: ['custom'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Expression',\n\t\t\t\t\t\tname: 'expression',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tplaceholder: 'e.g. ga:totalRefunds/ga:users',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Learn more about Google Analytics <a href=\"https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/reports/batchGet#Metric\">metric expressions</a>',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\tlistName: ['custom'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Formatting Type',\n\t\t\t\t\t\tname: 'formattingType',\n\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\tdefault: 'INTEGER',\n\t\t\t\t\t\tdescription: 'Specifies how the metric expression should be formatted',\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Currency',\n\t\t\t\t\t\t\t\tvalue: 'CURRENCY',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Float',\n\t\t\t\t\t\t\t\tvalue: 'FLOAT',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Integer',\n\t\t\t\t\t\t\t\tvalue: 'INTEGER',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Percent',\n\t\t\t\t\t\t\t\tvalue: 'PERCENT',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Time',\n\t\t\t\t\t\t\t\tvalue: 'TIME',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\tlistName: ['custom'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tresource: ['report'],\n\t\t\t\toperation: ['get'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\tdisplayName: 'Dimensions to split by',\n\t\tname: 'dimensionsUA',\n\t\ttype: 'fixedCollection',\n\t\tdefault: { dimensionValues: [{ listName: 'ga:date' }] },\n\t\t// default: {},\n\t\ttypeOptions: {\n\t\t\tmultipleValues: true,\n\t\t},\n\t\tplaceholder: 'Add Dimension',\n\t\tdescription:\n\t\t\t'Dimensions are attributes of your data. For example, the dimension ga:city indicates the city, for example, \"Paris\" or \"New York\", from which a session originates.',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Values',\n\t\t\t\tname: 'dimensionValues',\n\t\t\t\tvalues: [...dimensionDropdown],\n\t\t\t},\n\t\t],\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tresource: ['report'],\n\t\t\t\toperation: ['get'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Return All',\n\t\tname: 'returnAll',\n\t\ttype: 'boolean',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\toperation: ['get'],\n\t\t\t\tresource: ['report'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t},\n\t\t},\n\t\tdefault: false,\n\t\tdescription: 'Whether to return all results or only up to a given limit',\n\t},\n\t{\n\t\tdisplayName: 'Limit',\n\t\tname: 'limit',\n\t\ttype: 'number',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\toperation: ['get'],\n\t\t\t\tresource: ['report'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t\treturnAll: [false],\n\t\t\t},\n\t\t},\n\t\ttypeOptions: {\n\t\t\tminValue: 1,\n\t\t\tmaxValue: 1000,\n\t\t},\n\t\tdefault: 50,\n\t\tdescription: 'Max number of results to return',\n\t},\n\t{\n\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-wrong-for-simplify\n\t\tdisplayName: 'Simplify Output',\n\t\tname: 'simple',\n\t\ttype: 'boolean',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\toperation: ['get'],\n\t\t\t\tresource: ['report'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t},\n\t\t},\n\t\tdefault: true,\n\t\tdescription: 'Whether to return a simplified version of the response instead of the raw data',\n\t},\n\t{\n\t\tdisplayName: 'Additional Fields',\n\t\tname: 'additionalFields',\n\t\ttype: 'collection',\n\t\tplaceholder: 'Add Field',\n\t\tdefault: {},\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tresource: ['report'],\n\t\t\t\toperation: ['get'],\n\t\t\t\tpropertyType: ['universal'],\n\t\t\t},\n\t\t},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Dimension Filters',\n\t\t\t\tname: 'dimensionFiltersUi',\n\t\t\t\ttype: 'fixedCollection',\n\t\t\t\tdefault: {},\n\t\t\t\ttypeOptions: {\n\t\t\t\t\tmultipleValues: true,\n\t\t\t\t},\n\t\t\t\tplaceholder: 'Add Dimension Filter',\n\t\t\t\tdescription: 'Dimension Filters in the request',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Filters',\n\t\t\t\t\t\tname: 'filterValues',\n\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t...dimensionDropdown,\n\t\t\t\t\t\t\t// https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/reports/batchGet#Operator\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Operator',\n\t\t\t\t\t\t\t\tname: 'operator',\n\t\t\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\t\t\tdefault: 'EXACT',\n\t\t\t\t\t\t\t\tdescription: 'Operator to use in combination with value',\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Begins With',\n\t\t\t\t\t\t\t\t\t\tvalue: 'BEGINS_WITH',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Ends With',\n\t\t\t\t\t\t\t\t\t\tvalue: 'ENDS_WITH',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Equals (Number)',\n\t\t\t\t\t\t\t\t\t\tvalue: 'NUMERIC_EQUAL',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Exactly Matches',\n\t\t\t\t\t\t\t\t\t\tvalue: 'EXACT',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Greater Than (Number)',\n\t\t\t\t\t\t\t\t\t\tvalue: 'NUMERIC_GREATER_THAN',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Less Than (Number)',\n\t\t\t\t\t\t\t\t\t\tvalue: 'NUMERIC_LESS_THAN',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Partly Matches',\n\t\t\t\t\t\t\t\t\t\tvalue: 'PARTIAL',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Regular Expression',\n\t\t\t\t\t\t\t\t\t\tvalue: 'REGEXP',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Value',\n\t\t\t\t\t\t\t\tname: 'expressions',\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\tplaceholder: '',\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'String or <a href=\"https://support.google.com/analytics/answer/1034324?hl=en\">regular expression</a> to match against',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Hide Totals',\n\t\t\t\tname: 'hideTotals',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdescription:\n\t\t\t\t\t'Whether to hide the total of all metrics for all the matching rows, for every date range',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/simple': [false],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Hide Value Ranges',\n\t\t\t\tname: 'hideValueRanges',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdescription: 'Whether to hide the minimum and maximum across all matching rows',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/simple': [false],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Include Empty Rows',\n\t\t\t\tname: 'includeEmptyRows',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdescription:\n\t\t\t\t\t'Whether the response exclude rows if all the retrieved metrics are equal to zero',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Use Resource Quotas',\n\t\t\t\tname: 'useResourceQuotas',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdescription: 'Whether to enable resource based quotas',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/simple': [false],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n];\n\nexport async function execute(\n\tthis: IExecuteFunctions,\n\tindex: number,\n): Promise<INodeExecutionData[]> {\n\t//https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/reports/batchGet\n\t// const viewId = this.getNodeParameter('viewId', index) as string;\n\tconst viewId = this.getNodeParameter('viewId', index, undefined, {\n\t\textractValue: true,\n\t}) as string;\n\tconst returnAll = this.getNodeParameter('returnAll', 0);\n\tconst dateRange = this.getNodeParameter('dateRange', index) as string;\n\tconst metricsUA = this.getNodeParameter('metricsUA', index) as IDataObject;\n\tconst dimensionsUA = this.getNodeParameter('dimensionsUA', index) as IDataObject;\n\tconst additionalFields = this.getNodeParameter('additionalFields', index);\n\tconst simple = this.getNodeParameter('simple', index) as boolean;\n\n\tlet responseData;\n\n\tconst qs: IDataObject = {};\n\tconst body: IData = {\n\t\tviewId,\n\t\tdateRanges: prepareDateRange.call(this, dateRange, index),\n\t};\n\n\tif (metricsUA.metricValues) {\n\t\tconst metrics = (metricsUA.metricValues as IDataObject[]).map((metric) => {\n\t\t\tswitch (metric.listName) {\n\t\t\t\tcase 'other':\n\t\t\t\t\treturn {\n\t\t\t\t\t\talias: metric.name,\n\t\t\t\t\t\texpression: metric.name,\n\t\t\t\t\t};\n\t\t\t\tcase 'custom':\n\t\t\t\t\tconst newMetric = {\n\t\t\t\t\t\talias: metric.name,\n\t\t\t\t\t\texpression: metric.expression,\n\t\t\t\t\t\tformattingType: metric.formattingType,\n\t\t\t\t\t};\n\t\t\t\t\treturn newMetric;\n\t\t\t\tdefault:\n\t\t\t\t\treturn {\n\t\t\t\t\t\talias: metric.listName,\n\t\t\t\t\t\texpression: metric.listName,\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tif (metrics.length) {\n\t\t\tcheckDuplicates.call(this, metrics, 'alias', 'metrics');\n\t\t\tbody.metrics = metrics as IMetric[];\n\t\t}\n\t}\n\n\tif (dimensionsUA.dimensionValues) {\n\t\tconst dimensions = (dimensionsUA.dimensionValues as IDataObject[]).map((dimension) => {\n\t\t\tswitch (dimension.listName) {\n\t\t\t\tcase 'other':\n\t\t\t\t\treturn { name: dimension.name };\n\t\t\t\tdefault:\n\t\t\t\t\treturn { name: dimension.listName };\n\t\t\t}\n\t\t});\n\t\tif (dimensions.length) {\n\t\t\tcheckDuplicates.call(this, dimensions, 'name', 'dimensions');\n\t\t\tbody.dimensions = dimensions as IDimension[];\n\t\t}\n\t}\n\n\tif (additionalFields.useResourceQuotas) {\n\t\tqs.useResourceQuotas = additionalFields.useResourceQuotas;\n\t}\n\n\tif (additionalFields.dimensionFiltersUi) {\n\t\tconst dimensionFilters = (additionalFields.dimensionFiltersUi as IDataObject)\n\t\t\t.filterValues as IDataObject[];\n\t\tif (dimensionFilters) {\n\t\t\tdimensionFilters.forEach((filter) => {\n\t\t\t\tfilter.expressions = [filter.expressions];\n\t\t\t\tswitch (filter.listName) {\n\t\t\t\t\tcase 'other':\n\t\t\t\t\t\tfilter.dimensionName = filter.name;\n\t\t\t\t\t\tdelete filter.name;\n\t\t\t\t\t\tdelete filter.listName;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tfilter.dimensionName = filter.listName;\n\t\t\t\t\t\tdelete filter.listName;\n\t\t\t\t}\n\t\t\t});\n\t\t\tbody.dimensionFilterClauses = { filters: dimensionFilters };\n\t\t}\n\t}\n\n\tif (additionalFields.includeEmptyRows) {\n\t\tObject.assign(body, { includeEmptyRows: additionalFields.includeEmptyRows });\n\t}\n\tif (additionalFields.hideTotals) {\n\t\tObject.assign(body, { hideTotals: additionalFields.hideTotals });\n\t}\n\tif (additionalFields.hideValueRanges) {\n\t\tObject.assign(body, { hideTotals: additionalFields.hideTotals });\n\t}\n\n\tconst method = 'POST';\n\tconst endpoint = '/v4/reports:batchGet';\n\n\tif (returnAll) {\n\t\tresponseData = await googleApiRequestAllItems.call(\n\t\t\tthis,\n\t\t\t'reports',\n\t\t\tmethod,\n\t\t\tendpoint,\n\t\t\t{ reportRequests: [body] },\n\t\t\tqs,\n\t\t);\n\t} else {\n\t\tbody.pageSize = this.getNodeParameter('limit', 0);\n\t\tresponseData = await googleApiRequest.call(\n\t\t\tthis,\n\t\t\tmethod,\n\t\t\tendpoint,\n\t\t\t{ reportRequests: [body] },\n\t\t\tqs,\n\t\t);\n\t\tresponseData = responseData.reports;\n\t}\n\n\tif (simple) {\n\t\tresponseData = simplify(responseData);\n\t} else if (returnAll && responseData.length > 1) {\n\t\tresponseData = merge(responseData);\n\t}\n\n\tconst executionData = this.helpers.constructExecutionMetaData(\n\t\tthis.helpers.returnJsonArray(responseData as IDataObject[]),\n\t\t{ itemData: { item: index } },\n\t);\n\n\treturn executionData;\n}\n"],"mappings":"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","names":[]}