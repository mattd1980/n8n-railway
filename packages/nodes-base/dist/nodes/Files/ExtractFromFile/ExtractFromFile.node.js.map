{"version":3,"sources":["../../../../nodes/Files/ExtractFromFile/ExtractFromFile.node.ts"],"sourcesContent":["import type {\n\tIExecuteFunctions,\n\tINodeExecutionData,\n\tINodeType,\n\tINodeTypeDescription,\n} from 'n8n-workflow';\nimport { NodeConnectionTypes } from 'n8n-workflow';\n\nimport * as moveTo from './actions/moveTo.operation';\nimport * as pdf from './actions/pdf.operation';\nimport * as spreadsheet from './actions/spreadsheet.operation';\n\nexport class ExtractFromFile implements INodeType {\n\t// eslint-disable-next-line n8n-nodes-base/node-class-description-missing-subtitle\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'Extract from File',\n\t\tname: 'extractFromFile',\n\t\ticon: { light: 'file:extractFromFile.svg', dark: 'file:extractFromFile.dark.svg' },\n\t\tgroup: ['input'],\n\t\tversion: 1,\n\t\tdescription: 'Convert binary data to JSON',\n\t\tdefaults: {\n\t\t\tname: 'Extract from File',\n\t\t},\n\t\tinputs: [NodeConnectionTypes.Main],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Operation',\n\t\t\t\tname: 'operation',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-options-type-unsorted-items\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From CSV',\n\t\t\t\t\t\tvalue: 'csv',\n\t\t\t\t\t\taction: 'Extract from CSV',\n\t\t\t\t\t\tdescription: 'Transform a CSV file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From HTML',\n\t\t\t\t\t\tvalue: 'html',\n\t\t\t\t\t\taction: 'Extract from HTML',\n\t\t\t\t\t\tdescription: 'Transform a table in an HTML file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From ICS',\n\t\t\t\t\t\tvalue: 'fromIcs',\n\t\t\t\t\t\taction: 'Extract from ICS',\n\t\t\t\t\t\tdescription: 'Transform a ICS file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From JSON',\n\t\t\t\t\t\tvalue: 'fromJson',\n\t\t\t\t\t\taction: 'Extract from JSON',\n\t\t\t\t\t\tdescription: 'Transform a JSON file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From ODS',\n\t\t\t\t\t\tvalue: 'ods',\n\t\t\t\t\t\taction: 'Extract from ODS',\n\t\t\t\t\t\tdescription: 'Transform an ODS file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From PDF',\n\t\t\t\t\t\tvalue: 'pdf',\n\t\t\t\t\t\taction: 'Extract from PDF',\n\t\t\t\t\t\tdescription: 'Extracts the content and metadata from a PDF file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From RTF',\n\t\t\t\t\t\tvalue: 'rtf',\n\t\t\t\t\t\taction: 'Extract from RTF',\n\t\t\t\t\t\tdescription: 'Transform a table in an RTF file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From Text File',\n\t\t\t\t\t\tvalue: 'text',\n\t\t\t\t\t\taction: 'Extract from text file',\n\t\t\t\t\t\tdescription: 'Extracts the content of a text file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From XML',\n\t\t\t\t\t\tvalue: 'xml',\n\t\t\t\t\t\taction: 'Extract from XML',\n\t\t\t\t\t\tdescription: 'Extracts the content of an XML file',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From XLS',\n\t\t\t\t\t\tvalue: 'xls',\n\t\t\t\t\t\taction: 'Extract from XLS',\n\t\t\t\t\t\tdescription: 'Transform an Excel file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Extract From XLSX',\n\t\t\t\t\t\tvalue: 'xlsx',\n\t\t\t\t\t\taction: 'Extract from XLSX',\n\t\t\t\t\t\tdescription: 'Transform an Excel file into output items',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Move File to Base64 String',\n\t\t\t\t\t\tvalue: 'binaryToPropery',\n\t\t\t\t\t\taction: 'Move file to base64 string',\n\t\t\t\t\t\tdescription: 'Convert a file into a base64-encoded string',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'csv',\n\t\t\t},\n\t\t\t...spreadsheet.description,\n\t\t\t...moveTo.description,\n\t\t\t...pdf.description,\n\t\t],\n\t};\n\n\tasync execute(this: IExecuteFunctions) {\n\t\tconst items = this.getInputData();\n\t\tconst operation = this.getNodeParameter('operation', 0);\n\t\tlet returnData: INodeExecutionData[] = [];\n\n\t\tif (spreadsheet.operations.includes(operation)) {\n\t\t\treturnData = await spreadsheet.execute.call(this, items, 'operation');\n\t\t}\n\n\t\tif (['binaryToPropery', 'fromJson', 'text', 'fromIcs', 'xml'].includes(operation)) {\n\t\t\treturnData = await moveTo.execute.call(this, items, operation);\n\t\t}\n\n\t\tif (operation === 'pdf') {\n\t\t\treturnData = await pdf.execute.call(this, items);\n\t\t}\n\n\t\treturn [returnData];\n\t}\n}\n"],"mappings":"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","names":[]}