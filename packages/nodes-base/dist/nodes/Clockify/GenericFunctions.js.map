{"version":3,"sources":["../../../nodes/Clockify/GenericFunctions.ts"],"sourcesContent":["import type {\n\tIExecuteFunctions,\n\tILoadOptionsFunctions,\n\tIPollFunctions,\n\tIDataObject,\n\tIHttpRequestMethods,\n\tIRequestOptions,\n} from 'n8n-workflow';\n\nexport async function clockifyApiRequest(\n\tthis: ILoadOptionsFunctions | IPollFunctions | IExecuteFunctions,\n\tmethod: IHttpRequestMethods,\n\tresource: string,\n\n\tbody: any = {},\n\tqs: IDataObject = {},\n\t_uri?: string,\n\t_option: IDataObject = {},\n): Promise<any> {\n\tconst BASE_URL = 'https://api.clockify.me/api/v1';\n\n\tconst options: IRequestOptions = {\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tmethod,\n\t\tqs,\n\t\tbody,\n\t\turi: `${BASE_URL}/${resource}`,\n\t\tjson: true,\n\t\tuseQuerystring: true,\n\t};\n\treturn await this.helpers.requestWithAuthentication.call(this, 'clockifyApi', options);\n}\n\nexport async function clockifyApiRequestAllItems(\n\tthis: IExecuteFunctions | IPollFunctions | ILoadOptionsFunctions,\n\tmethod: IHttpRequestMethods,\n\tendpoint: string,\n\n\tbody: any = {},\n\tquery: IDataObject = {},\n): Promise<any> {\n\tconst returnData: IDataObject[] = [];\n\n\tlet responseData;\n\n\tquery['page-size'] = 50;\n\n\tquery.page = 1;\n\n\tdo {\n\t\tresponseData = await clockifyApiRequest.call(this, method, endpoint, body, query);\n\n\t\treturnData.push.apply(returnData, responseData as IDataObject[]);\n\n\t\tconst limit = query.limit as number | undefined;\n\t\tif (limit && returnData.length >= limit) {\n\t\t\treturn returnData;\n\t\t}\n\n\t\tquery.page++;\n\t} while (responseData.length !== 0);\n\n\treturn returnData;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,eAAsB,mBAErB,QACA,UAEA,OAAY,CAAC,GACb,KAAkB,CAAC,GACnB,MACA,UAAuB,CAAC,GACT;AACf,QAAM,WAAW;AAEjB,QAAM,UAA2B;AAAA,IAChC,SAAS;AAAA,MACR,gBAAgB;AAAA,IACjB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,KAAK,GAAG,QAAQ,IAAI,QAAQ;AAAA,IAC5B,MAAM;AAAA,IACN,gBAAgB;AAAA,EACjB;AACA,SAAO,MAAM,KAAK,QAAQ,0BAA0B,KAAK,MAAM,eAAe,OAAO;AACtF;AAEA,eAAsB,2BAErB,QACA,UAEA,OAAY,CAAC,GACb,QAAqB,CAAC,GACP;AACf,QAAM,aAA4B,CAAC;AAEnC,MAAI;AAEJ,QAAM,WAAW,IAAI;AAErB,QAAM,OAAO;AAEb,KAAG;AACF,mBAAe,MAAM,mBAAmB,KAAK,MAAM,QAAQ,UAAU,MAAM,KAAK;AAEhF,eAAW,KAAK,MAAM,YAAY,YAA6B;AAE/D,UAAM,QAAQ,MAAM;AACpB,QAAI,SAAS,WAAW,UAAU,OAAO;AACxC,aAAO;AAAA,IACR;AAEA,UAAM;AAAA,EACP,SAAS,aAAa,WAAW;AAEjC,SAAO;AACR;","names":[]}