{"version":3,"sources":["../../../../../nodes/TheHiveProject/actions/case/search.operation.ts"],"sourcesContent":["import type {\n\tIDataObject,\n\tIExecuteFunctions,\n\tINodeExecutionData,\n\tINodeProperties,\n} from 'n8n-workflow';\n\nimport { updateDisplayOptions, wrapData } from '@utils/utilities';\n\nimport {\n\tgenericFiltersCollection,\n\treturnAllAndLimit,\n\tsearchOptions,\n\tsortCollection,\n} from '../../descriptions';\nimport { theHiveApiQuery } from '../../transport';\n\nconst properties: INodeProperties[] = [\n\t...returnAllAndLimit,\n\tgenericFiltersCollection,\n\tsortCollection,\n\tsearchOptions,\n];\n\nconst displayOptions = {\n\tshow: {\n\t\tresource: ['case'],\n\t\toperation: ['search'],\n\t},\n};\n\nexport const description = updateDisplayOptions(displayOptions, properties);\n\nexport async function execute(this: IExecuteFunctions, i: number): Promise<INodeExecutionData[]> {\n\tlet responseData: IDataObject | IDataObject[] = [];\n\n\tconst filtersValues = this.getNodeParameter('filters.values', i, []) as IDataObject[];\n\tconst sortFields = this.getNodeParameter('sort.fields', i, []) as IDataObject[];\n\tconst returnAll = this.getNodeParameter('returnAll', i);\n\tconst { returnCount, extraData } = this.getNodeParameter('options', i);\n\tlet limit;\n\n\tif (!returnAll) {\n\t\tlimit = this.getNodeParameter('limit', i);\n\t}\n\n\tresponseData = await theHiveApiQuery.call(\n\t\tthis,\n\t\t{ query: 'listCase' },\n\t\tfiltersValues,\n\t\tsortFields,\n\t\tlimit,\n\t\treturnCount as boolean,\n\t\textraData as string[],\n\t);\n\n\tconst executionData = this.helpers.constructExecutionMetaData(wrapData(responseData), {\n\t\titemData: { item: i },\n\t});\n\n\treturn executionData;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,uBAA+C;AAE/C,0BAKO;AACP,uBAAgC;AAEhC,MAAM,aAAgC;AAAA,EACrC,GAAG;AAAA,EACH;AAAA,EACA;AAAA,EACA;AACD;AAEA,MAAM,iBAAiB;AAAA,EACtB,MAAM;AAAA,IACL,UAAU,CAAC,MAAM;AAAA,IACjB,WAAW,CAAC,QAAQ;AAAA,EACrB;AACD;AAEO,MAAM,kBAAc,uCAAqB,gBAAgB,UAAU;AAE1E,eAAsB,QAAiC,GAA0C;AAChG,MAAI,eAA4C,CAAC;AAEjD,QAAM,gBAAgB,KAAK,iBAAiB,kBAAkB,GAAG,CAAC,CAAC;AACnE,QAAM,aAAa,KAAK,iBAAiB,eAAe,GAAG,CAAC,CAAC;AAC7D,QAAM,YAAY,KAAK,iBAAiB,aAAa,CAAC;AACtD,QAAM,EAAE,aAAa,UAAU,IAAI,KAAK,iBAAiB,WAAW,CAAC;AACrE,MAAI;AAEJ,MAAI,CAAC,WAAW;AACf,YAAQ,KAAK,iBAAiB,SAAS,CAAC;AAAA,EACzC;AAEA,iBAAe,MAAM,iCAAgB;AAAA,IACpC;AAAA,IACA,EAAE,OAAO,WAAW;AAAA,IACpB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD;AAEA,QAAM,gBAAgB,KAAK,QAAQ,+BAA2B,2BAAS,YAAY,GAAG;AAAA,IACrF,UAAU,EAAE,MAAM,EAAE;AAAA,EACrB,CAAC;AAED,SAAO;AACR;","names":[]}