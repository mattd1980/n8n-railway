{"version":3,"sources":["../../../nodes/Signl4/Signl4.node.ts"],"sourcesContent":["import type {\n\tIDataObject,\n\tIExecuteFunctions,\n\tINodeExecutionData,\n\tINodeType,\n\tINodeTypeDescription,\n} from 'n8n-workflow';\nimport { NodeConnectionTypes, NodeOperationError } from 'n8n-workflow';\n\nimport { SIGNL4ApiRequest } from './GenericFunctions';\n\nexport class Signl4 implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'SIGNL4',\n\t\tname: 'signl4',\n\t\t// eslint-disable-next-line n8n-nodes-base/node-class-description-icon-not-svg\n\t\ticon: 'file:signl4.png',\n\t\tgroup: ['transform'],\n\t\tversion: 1,\n\t\tsubtitle: '={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}',\n\t\tdescription: 'Consume SIGNL4 API',\n\t\tdefaults: {\n\t\t\tname: 'SIGNL4',\n\t\t},\n\t\tusableAsTool: true,\n\t\tinputs: [NodeConnectionTypes.Main],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tcredentials: [\n\t\t\t{\n\t\t\t\tname: 'signl4Api',\n\t\t\t\trequired: true,\n\t\t\t},\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Resource',\n\t\t\t\tname: 'resource',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Alert',\n\t\t\t\t\t\tvalue: 'alert',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'alert',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Operation',\n\t\t\t\tname: 'operation',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\tresource: ['alert'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Send',\n\t\t\t\t\t\tvalue: 'send',\n\t\t\t\t\t\tdescription: 'Send an alert',\n\t\t\t\t\t\taction: 'Send an alert',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Resolve',\n\t\t\t\t\t\tvalue: 'resolve',\n\t\t\t\t\t\tdescription: 'Resolve an alert',\n\t\t\t\t\t\taction: 'Resolve an alert',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'send',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Message',\n\t\t\t\tname: 'message',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['send'],\n\t\t\t\t\t\tresource: ['alert'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdescription: 'A more detailed description for the alert',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Additional Fields',\n\t\t\t\tname: 'additionalFields',\n\t\t\t\ttype: 'collection',\n\t\t\t\tplaceholder: 'Add Field',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['send'],\n\t\t\t\t\t\tresource: ['alert'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: {},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Alerting Scenario',\n\t\t\t\t\t\tname: 'alertingScenario',\n\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Single ACK',\n\t\t\t\t\t\t\t\tvalue: 'single_ack',\n\t\t\t\t\t\t\t\tdescription: 'In case only one person needs to confirm this Signl',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Multi ACK',\n\t\t\t\t\t\t\t\tvalue: 'multi_ack',\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'In case this alert must be confirmed by the number of people who are on duty at the time this Singl is raised',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdefault: 'single_ack',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Attachments',\n\t\t\t\t\t\tname: 'attachmentsUi',\n\t\t\t\t\t\tplaceholder: 'Add Attachments',\n\t\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tmultipleValues: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'attachmentsBinary',\n\t\t\t\t\t\t\t\tdisplayName: 'Attachments Binary',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdisplayName: 'Property Name',\n\t\t\t\t\t\t\t\t\t\tname: 'property',\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\tplaceholder: 'data',\n\t\t\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t\t'Name of the binary properties which contain data which should be added as attachment',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdefault: {},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'External ID',\n\t\t\t\t\t\tname: 'externalId',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'If the event originates from a record in a 3rd party system, use this parameter to pass the unique ID of that record. That ID will be communicated in outbound webhook notifications from SIGNL4, which is great for correlation/synchronization of that record with the alert. If you resolve / close an alert you must use the same External ID as in the original alert.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Filtering',\n\t\t\t\t\t\tname: 'filtering',\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tdefault: false,\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Whether to apply event filtering for this event, or not. If set to true, the event will only trigger a notification to the team, if it contains at least one keyword from one of your services and system categories (i.e. it is whitelisted)',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Location',\n\t\t\t\t\t\tname: 'locationFieldsUi',\n\t\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\t\tplaceholder: 'Add Location',\n\t\t\t\t\t\tdefault: {},\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\"Transmit location information ('latitude, longitude') with your event and display a map in the mobile app\",\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'locationFieldsValues',\n\t\t\t\t\t\t\t\tdisplayName: 'Location',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdisplayName: 'Latitude',\n\t\t\t\t\t\t\t\t\t\tname: 'latitude',\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tdescription: 'The location latitude',\n\t\t\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdisplayName: 'Longitude',\n\t\t\t\t\t\t\t\t\t\tname: 'longitude',\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tdescription: 'The location longitude',\n\t\t\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Service',\n\t\t\t\t\t\tname: 'service',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'Assigns the alert to the service/system category with the specified name',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Title',\n\t\t\t\t\t\tname: 'title',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'The title or subject of this alert',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'External ID',\n\t\t\t\tname: 'externalId',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['resolve'],\n\t\t\t\t\t\tresource: ['alert'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdescription:\n\t\t\t\t\t'If the event originates from a record in a 3rd party system, use this parameter to pass the unique ID of that record. That ID will be communicated in outbound webhook notifications from SIGNL4, which is great for correlation/synchronization of that record with the alert. If you resolve / close an alert you must use the same External ID as in the original alert.',\n\t\t\t},\n\t\t],\n\t};\n\n\tasync execute(this: IExecuteFunctions): Promise<INodeExecutionData[][]> {\n\t\tconst items = this.getInputData();\n\t\tconst returnData: IDataObject[] = [];\n\t\tconst length = items.length;\n\t\tlet responseData;\n\t\tconst resource = this.getNodeParameter('resource', 0);\n\t\tconst operation = this.getNodeParameter('operation', 0);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\ttry {\n\t\t\t\tif (resource === 'alert') {\n\t\t\t\t\t//https://connect.signl4.com/webhook/docs/index.html\n\t\t\t\t\t// Send alert\n\t\t\t\t\tif (operation === 'send') {\n\t\t\t\t\t\tconst message = this.getNodeParameter('message', i) as string;\n\t\t\t\t\t\tconst additionalFields = this.getNodeParameter('additionalFields', i);\n\n\t\t\t\t\t\tconst data: IDataObject = {\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (additionalFields.title) {\n\t\t\t\t\t\t\tdata.title = additionalFields.title as string;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (additionalFields.service) {\n\t\t\t\t\t\t\tdata.service = additionalFields.service as string;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (additionalFields.locationFieldsUi) {\n\t\t\t\t\t\t\tconst locationUi = (additionalFields.locationFieldsUi as IDataObject)\n\t\t\t\t\t\t\t\t.locationFieldsValues as IDataObject;\n\t\t\t\t\t\t\tif (locationUi) {\n\t\t\t\t\t\t\t\tdata['X-S4-Location'] = `${locationUi.latitude},${locationUi.longitude}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (additionalFields.alertingScenario) {\n\t\t\t\t\t\t\tdata['X-S4-AlertingScenario'] = additionalFields.alertingScenario as string;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (additionalFields.filtering) {\n\t\t\t\t\t\t\tdata['X-S4-Filtering'] = (additionalFields.filtering as boolean).toString();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (additionalFields.externalId) {\n\t\t\t\t\t\t\tdata['X-S4-ExternalID'] = additionalFields.externalId as string;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata['X-S4-Status'] = 'new';\n\n\t\t\t\t\t\tdata['X-S4-SourceSystem'] = 'n8n';\n\n\t\t\t\t\t\t// Attachments\n\t\t\t\t\t\tconst attachments = additionalFields.attachmentsUi as IDataObject;\n\t\t\t\t\t\tif (attachments?.attachmentsBinary) {\n\t\t\t\t\t\t\tconst propertyName = (attachments.attachmentsBinary as IDataObject)\n\t\t\t\t\t\t\t\t.property as string;\n\n\t\t\t\t\t\t\tconst binaryData = this.helpers.assertBinaryData(i, propertyName);\n\n\t\t\t\t\t\t\tif (binaryData) {\n\t\t\t\t\t\t\t\tconst supportedFileExtension = ['png', 'jpg', 'jpeg', 'bmp', 'gif', 'mp3', 'wav'];\n\n\t\t\t\t\t\t\t\tif (!supportedFileExtension.includes(binaryData.fileExtension as string)) {\n\t\t\t\t\t\t\t\t\tthrow new NodeOperationError(\n\t\t\t\t\t\t\t\t\t\tthis.getNode(),\n\t\t\t\t\t\t\t\t\t\t`Invalid extension, just ${supportedFileExtension.join(',')} are supported}`,\n\t\t\t\t\t\t\t\t\t\t{ itemIndex: i },\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst binaryDataBuffer = await this.helpers.getBinaryDataBuffer(i, propertyName);\n\t\t\t\t\t\t\t\tdata.attachment = {\n\t\t\t\t\t\t\t\t\tvalue: binaryDataBuffer,\n\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\tfilename: binaryData.fileName,\n\t\t\t\t\t\t\t\t\t\tcontentType: binaryData.mimeType,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresponseData = await SIGNL4ApiRequest.call(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t'POST',\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tformData: data,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t// Resolve alert\n\t\t\t\t\tif (operation === 'resolve') {\n\t\t\t\t\t\tconst data: IDataObject = {};\n\n\t\t\t\t\t\tdata['X-S4-ExternalID'] = this.getNodeParameter('externalId', i) as string;\n\n\t\t\t\t\t\tdata['X-S4-Status'] = 'resolved';\n\n\t\t\t\t\t\tdata['X-S4-SourceSystem'] = 'n8n';\n\n\t\t\t\t\t\tresponseData = await SIGNL4ApiRequest.call(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t'POST',\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tformData: data,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(responseData)) {\n\t\t\t\t\treturnData.push.apply(returnData, responseData as IDataObject[]);\n\t\t\t\t} else if (responseData !== undefined) {\n\t\t\t\t\treturnData.push(responseData as IDataObject);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (this.continueOnFail()) {\n\t\t\t\t\treturnData.push({ error: error.message });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t\treturn [this.helpers.returnJsonArray(returnData)];\n\t}\n}\n"],"mappings":"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","names":[]}