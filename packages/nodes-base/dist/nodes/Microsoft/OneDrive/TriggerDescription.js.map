{"version":3,"sources":["../../../../nodes/Microsoft/OneDrive/TriggerDescription.ts"],"sourcesContent":["import type { INodeProperties } from 'n8n-workflow';\n\nimport { MICROSOFT_DRIVE_FILE_URL_REGEX, MICROSOFT_DRIVE_FOLDER_URL_REGEX } from './constants';\n\nexport const fileRLC: INodeProperties = {\n\tdisplayName: 'File',\n\tname: 'fileId',\n\ttype: 'resourceLocator',\n\tdefault: { mode: 'id', value: '' },\n\trequired: true,\n\tmodes: [\n\t\t{\n\t\t\tdisplayName: 'Link',\n\t\t\tname: 'url',\n\t\t\ttype: 'string',\n\t\t\tplaceholder:\n\t\t\t\t'e.g. https://onedrive.live.com/edit.aspx?resid=170B5C65E30736A3!257&cid=170b5c65e30736a3&CT=1708697995542&OR=ItemsView',\n\t\t\textractValue: {\n\t\t\t\ttype: 'regex',\n\t\t\t\tregex: MICROSOFT_DRIVE_FILE_URL_REGEX,\n\t\t\t},\n\t\t\tvalidation: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'regex',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tregex: MICROSOFT_DRIVE_FILE_URL_REGEX,\n\t\t\t\t\t\terrorMessage: 'Not a valid Microsoft Drive File URL',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'ID',\n\t\t\tname: 'id',\n\t\t\ttype: 'string',\n\t\t\tplaceholder: 'e.g. 170B5C65E30736A3!257',\n\t\t\tvalidation: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'regex',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tregex: '[a-zA-Z0-9\\\\!%21]{5,}',\n\t\t\t\t\t\terrorMessage: 'Not a valid Microsoft Drive File ID',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\turl: '=https://onedrive.live.com/?id={{$value}}',\n\t\t},\n\t],\n\tdescription:\n\t\t\"The file to operate on. The 'By URL' option only accepts URLs that start with 'https://onedrive.live.com'.\",\n};\n\nexport const folderRLC: INodeProperties = {\n\tdisplayName: 'Folder',\n\tname: 'folderId',\n\ttype: 'resourceLocator',\n\tdefault: { mode: 'id', value: '', cachedResultName: '' },\n\trequired: true,\n\tmodes: [\n\t\t{\n\t\t\tdisplayName: 'Link',\n\t\t\tname: 'url',\n\t\t\ttype: 'string',\n\t\t\tplaceholder: 'e.g. https://onedrive.live.com/?id=170B5C65E30736A3%21103&cid=170B5C65E30736A3',\n\t\t\textractValue: {\n\t\t\t\ttype: 'regex',\n\t\t\t\tregex: MICROSOFT_DRIVE_FOLDER_URL_REGEX,\n\t\t\t},\n\t\t\tvalidation: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'regex',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tregex: MICROSOFT_DRIVE_FOLDER_URL_REGEX,\n\t\t\t\t\t\terrorMessage: 'Not a valid Microsoft Drive Folder URL',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'ID',\n\t\t\tname: 'id',\n\t\t\ttype: 'string',\n\t\t\tplaceholder: 'e.g. 170B5C65E30736A3%21136',\n\t\t\tvalidation: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'regex',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tregex: '[a-zA-Z0-9\\\\!%21]{5,}',\n\t\t\t\t\t\terrorMessage: 'Not a valid Microsoft Drive Folder ID',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\turl: '=https://onedrive.live.com/?id={{$value}}',\n\t\t},\n\t],\n\tdescription:\n\t\t\"The folder to operate on. The 'By URL' option only accepts URLs that start with 'https://onedrive.live.com'.\",\n};\n\nexport const triggerDescription: INodeProperties[] = [\n\t{\n\t\tdisplayName: 'Trigger On',\n\t\tname: 'event',\n\t\ttype: 'options',\n\t\tdefault: 'fileCreated',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'File Created',\n\t\t\t\tvalue: 'fileCreated',\n\t\t\t\tdescription: 'When a new file is created',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'File Updated',\n\t\t\t\tvalue: 'fileUpdated',\n\t\t\t\tdescription: 'When an existing file is modified',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Folder Created',\n\t\t\t\tvalue: 'folderCreated',\n\t\t\t\tdescription: 'When a new folder is created',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Folder Updated',\n\t\t\t\tvalue: 'folderUpdated',\n\t\t\t\tdescription: 'When an existing folder is modified',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tdisplayName: 'Simplify',\n\t\tname: 'simple',\n\t\tdescription: 'Whether to return a simplified version of the response instead of the raw data',\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\t{\n\t\tdisplayName: 'Watch Folder',\n\t\tname: 'watchFolder',\n\t\tdescription:\n\t\t\t'Whether to watch for the created file in a given folder, rather than the entire OneDrive',\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tevent: ['fileCreated'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Watch',\n\t\tname: 'watch',\n\t\tdescription: 'How to select which file to watch',\n\t\ttype: 'options',\n\t\tdefault: 'anyFile',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tevent: ['fileUpdated'],\n\t\t\t},\n\t\t},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'Any File',\n\t\t\t\tvalue: 'anyFile',\n\t\t\t\tdescription: 'Watch for updated files in the entire OneDrive',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Inside a Folder',\n\t\t\t\tvalue: 'selectedFolder',\n\t\t\t\tdescription: 'Watch for updated files inside a selected folder',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'A Selected File',\n\t\t\t\tvalue: 'selectedFile',\n\t\t\t\tdescription: 'Watch a specific file for updates',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tdisplayName: 'Watch Folder',\n\t\tname: 'watchFolder',\n\t\tdescription:\n\t\t\t'Whether to watch for the created folder in a given folder, rather than the entire OneDrive',\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tevent: ['folderCreated'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Watch',\n\t\tname: 'watch',\n\t\tdescription: 'How to select which folder to watch',\n\t\ttype: 'options',\n\t\tdefault: 'anyFolder',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tevent: ['folderUpdated'],\n\t\t\t},\n\t\t},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'Any Folder',\n\t\t\t\tvalue: 'anyFolder',\n\t\t\t\tdescription: 'Watch for updated folders in the entire OneDrive',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Inside a Folder',\n\t\t\t\tvalue: 'selectedFolder',\n\t\t\t\tdescription: 'Watch for updated folders inside a selected folder',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'A Selected Folder',\n\t\t\t\tvalue: 'oneSelectedFolder',\n\t\t\t\tdescription: 'Watch a specific folder for updates',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\t...fileRLC,\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\tevent: ['fileUpdated'],\n\t\t\t\twatch: ['selectedFile'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\t...folderRLC,\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\twatch: ['selectedFolder', 'oneSelectedFolder'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\t...folderRLC,\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\twatchFolder: [true],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Options',\n\t\tname: 'options',\n\t\ttype: 'collection',\n\t\tplaceholder: 'Add option',\n\t\tdefault: {},\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\twatch: ['selectedFolder'],\n\t\t\t},\n\t\t},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Watch Nested Folders',\n\t\t\t\tname: 'folderChild',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdescription:\n\t\t\t\t\t'Whether to look for modified files/folders in all nested folders, rather than only direct descendants',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tdisplayName: 'Options',\n\t\tname: 'options',\n\t\ttype: 'collection',\n\t\tplaceholder: 'Add option',\n\t\tdefault: {},\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\twatchFolder: [true],\n\t\t\t},\n\t\t},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Watch Nested Folders',\n\t\t\t\tname: 'folderChild',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\tdescription:\n\t\t\t\t\t'Whether to look for modified files/folders in all nested folders, rather than only direct descendants',\n\t\t\t},\n\t\t],\n\t},\n];\n"],"mappings":"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","names":[]}