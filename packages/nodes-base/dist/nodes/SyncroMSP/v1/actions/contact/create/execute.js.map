{"version":3,"sources":["../../../../../../../nodes/SyncroMSP/v1/actions/contact/create/execute.ts"],"sourcesContent":["import type { IExecuteFunctions, IDataObject, INodeExecutionData } from 'n8n-workflow';\n\nimport { apiRequest } from '../../../transport';\n\nexport async function createContact(\n\tthis: IExecuteFunctions,\n\tindex: number,\n): Promise<INodeExecutionData[]> {\n\tconst id = this.getNodeParameter('customerId', index) as IDataObject;\n\tconst email = this.getNodeParameter('email', index) as IDataObject;\n\tconst { address, notes, phone, name } = this.getNodeParameter('additionalFields', index);\n\n\tconst qs = {} as IDataObject;\n\tconst requestMethod = 'POST';\n\tconst endpoint = 'contacts';\n\tlet body = {} as IDataObject;\n\tlet addressData = address as IDataObject;\n\n\tif (addressData) {\n\t\taddressData = addressData.addressFields as IDataObject;\n\t\taddressData.address1 = addressData.address;\n\t}\n\n\tbody = {\n\t\t...addressData,\n\t\tcustomer_id: id,\n\t\temail,\n\t\tname,\n\t\tnotes,\n\t\tphone,\n\t};\n\n\tconst responseData = await apiRequest.call(this, requestMethod, endpoint, body, qs);\n\n\treturn this.helpers.returnJsonArray(responseData as IDataObject);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,uBAA2B;AAE3B,eAAsB,cAErB,OACgC;AAChC,QAAM,KAAK,KAAK,iBAAiB,cAAc,KAAK;AACpD,QAAM,QAAQ,KAAK,iBAAiB,SAAS,KAAK;AAClD,QAAM,EAAE,SAAS,OAAO,OAAO,KAAK,IAAI,KAAK,iBAAiB,oBAAoB,KAAK;AAEvF,QAAM,KAAK,CAAC;AACZ,QAAM,gBAAgB;AACtB,QAAM,WAAW;AACjB,MAAI,OAAO,CAAC;AACZ,MAAI,cAAc;AAElB,MAAI,aAAa;AAChB,kBAAc,YAAY;AAC1B,gBAAY,WAAW,YAAY;AAAA,EACpC;AAEA,SAAO;AAAA,IACN,GAAG;AAAA,IACH,aAAa;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD;AAEA,QAAM,eAAe,MAAM,4BAAW,KAAK,MAAM,eAAe,UAAU,MAAM,EAAE;AAElF,SAAO,KAAK,QAAQ,gBAAgB,YAA2B;AAChE;","names":[]}