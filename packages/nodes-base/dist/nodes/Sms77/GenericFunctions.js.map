{"version":3,"sources":["../../../nodes/Sms77/GenericFunctions.ts"],"sourcesContent":["import type {\n\tIDataObject,\n\tIExecuteFunctions,\n\tIHookFunctions,\n\tIHttpRequestMethods,\n\tIRequestOptions,\n\tJsonObject,\n} from 'n8n-workflow';\nimport { NodeApiError } from 'n8n-workflow';\n\n/**\n * Make an API request to seven\n *\n * @param {IHookFunctions | IExecuteFunctions} this\n * @param {object | undefined} data\n */\nexport async function sms77ApiRequest(\n\tthis: IHookFunctions | IExecuteFunctions,\n\tmethod: IHttpRequestMethods,\n\tendpoint: string,\n\tbody: IDataObject,\n\tqs: IDataObject = {},\n): Promise<any> {\n\tconst options: IRequestOptions = {\n\t\theaders: {\n\t\t\tSentWith: 'n8n',\n\t\t},\n\t\tqs,\n\t\turi: `https://gateway.seven.io/api${endpoint}`,\n\t\tjson: true,\n\t\tmethod,\n\t};\n\n\tif (Object.keys(body).length) {\n\t\toptions.form = body;\n\t}\n\n\tconst response = await this.helpers.requestWithAuthentication.call(this, 'sms77Api', options);\n\n\tif (response.success !== '100') {\n\t\tthrow new NodeApiError(this.getNode(), response as JsonObject, {\n\t\t\tmessage: 'Invalid sms77 credentials or API error!',\n\t\t});\n\t}\n\n\treturn response;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,0BAA6B;AAQ7B,eAAsB,gBAErB,QACA,UACA,MACA,KAAkB,CAAC,GACJ;AACf,QAAM,UAA2B;AAAA,IAChC,SAAS;AAAA,MACR,UAAU;AAAA,IACX;AAAA,IACA;AAAA,IACA,KAAK,+BAA+B,QAAQ;AAAA,IAC5C,MAAM;AAAA,IACN;AAAA,EACD;AAEA,MAAI,OAAO,KAAK,IAAI,EAAE,QAAQ;AAC7B,YAAQ,OAAO;AAAA,EAChB;AAEA,QAAM,WAAW,MAAM,KAAK,QAAQ,0BAA0B,KAAK,MAAM,YAAY,OAAO;AAE5F,MAAI,SAAS,YAAY,OAAO;AAC/B,UAAM,IAAI,iCAAa,KAAK,QAAQ,GAAG,UAAwB;AAAA,MAC9D,SAAS;AAAA,IACV,CAAC;AAAA,EACF;AAEA,SAAO;AACR;","names":[]}