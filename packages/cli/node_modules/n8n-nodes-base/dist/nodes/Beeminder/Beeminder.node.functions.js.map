{"version":3,"sources":["../../../nodes/Beeminder/Beeminder.node.functions.ts"],"sourcesContent":["import type {\n\tIExecuteFunctions,\n\tILoadOptionsFunctions,\n\tIDataObject,\n\tIHookFunctions,\n\tIWebhookFunctions,\n} from 'n8n-workflow';\n\nimport { beeminderApiRequest, beeminderApiRequestAllItems } from './GenericFunctions';\n\nexport async function createDatapoint(\n\tthis: IExecuteFunctions | IWebhookFunctions | IHookFunctions | ILoadOptionsFunctions,\n\tdata: IDataObject,\n) {\n\tconst credentials = await this.getCredentials('beeminderApi');\n\n\tconst endpoint = `/users/${credentials.user}/goals/${data.goalName}/datapoints.json`;\n\n\treturn await beeminderApiRequest.call(this, 'POST', endpoint, data);\n}\n\nexport async function getAllDatapoints(\n\tthis: IExecuteFunctions | IHookFunctions | ILoadOptionsFunctions,\n\tdata: IDataObject,\n) {\n\tconst credentials = await this.getCredentials('beeminderApi');\n\n\tconst endpoint = `/users/${credentials.user}/goals/${data.goalName}/datapoints.json`;\n\n\tif (data.count !== undefined) {\n\t\treturn await beeminderApiRequest.call(this, 'GET', endpoint, {}, data);\n\t}\n\n\treturn await beeminderApiRequestAllItems.call(this, 'GET', endpoint, {}, data);\n}\n\nexport async function updateDatapoint(\n\tthis: IExecuteFunctions | IWebhookFunctions | IHookFunctions | ILoadOptionsFunctions,\n\tdata: IDataObject,\n) {\n\tconst credentials = await this.getCredentials('beeminderApi');\n\n\tconst endpoint = `/users/${credentials.user}/goals/${data.goalName}/datapoints/${data.datapointId}.json`;\n\n\treturn await beeminderApiRequest.call(this, 'PUT', endpoint, data);\n}\n\nexport async function deleteDatapoint(\n\tthis: IExecuteFunctions | IWebhookFunctions | IHookFunctions | ILoadOptionsFunctions,\n\tdata: IDataObject,\n) {\n\tconst credentials = await this.getCredentials('beeminderApi');\n\n\tconst endpoint = `/users/${credentials.user}/goals/${data.goalName}/datapoints/${data.datapointId}.json`;\n\n\treturn await beeminderApiRequest.call(this, 'DELETE', endpoint);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,8BAAiE;AAEjE,eAAsB,gBAErB,MACC;AACD,QAAM,cAAc,MAAM,KAAK,eAAe,cAAc;AAE5D,QAAM,WAAW,UAAU,YAAY,IAAI,UAAU,KAAK,QAAQ;AAElE,SAAO,MAAM,4CAAoB,KAAK,MAAM,QAAQ,UAAU,IAAI;AACnE;AAEA,eAAsB,iBAErB,MACC;AACD,QAAM,cAAc,MAAM,KAAK,eAAe,cAAc;AAE5D,QAAM,WAAW,UAAU,YAAY,IAAI,UAAU,KAAK,QAAQ;AAElE,MAAI,KAAK,UAAU,QAAW;AAC7B,WAAO,MAAM,4CAAoB,KAAK,MAAM,OAAO,UAAU,CAAC,GAAG,IAAI;AAAA,EACtE;AAEA,SAAO,MAAM,oDAA4B,KAAK,MAAM,OAAO,UAAU,CAAC,GAAG,IAAI;AAC9E;AAEA,eAAsB,gBAErB,MACC;AACD,QAAM,cAAc,MAAM,KAAK,eAAe,cAAc;AAE5D,QAAM,WAAW,UAAU,YAAY,IAAI,UAAU,KAAK,QAAQ,eAAe,KAAK,WAAW;AAEjG,SAAO,MAAM,4CAAoB,KAAK,MAAM,OAAO,UAAU,IAAI;AAClE;AAEA,eAAsB,gBAErB,MACC;AACD,QAAM,cAAc,MAAM,KAAK,eAAe,cAAc;AAE5D,QAAM,WAAW,UAAU,YAAY,IAAI,UAAU,KAAK,QAAQ,eAAe,KAAK,WAAW;AAEjG,SAAO,MAAM,4CAAoB,KAAK,MAAM,UAAU,QAAQ;AAC/D;","names":[]}