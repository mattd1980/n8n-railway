{"version":3,"sources":["../../../../nodes/Google/GSuiteAdmin/SearchFunctions.ts"],"sourcesContent":["import type {\n\tILoadOptionsFunctions,\n\tIDataObject,\n\tINodeListSearchResult,\n\tINodeListSearchItems,\n} from 'n8n-workflow';\n\nimport { googleApiRequest, googleApiRequestAllItems } from './GenericFunctions';\n\nexport async function searchUsers(this: ILoadOptionsFunctions): Promise<INodeListSearchResult> {\n\tconst qs: IDataObject = {\n\t\tcustomer: 'my_customer',\n\t};\n\n\tconst responseData = await googleApiRequestAllItems.call(\n\t\tthis,\n\t\t'users',\n\t\t'GET',\n\t\t'/directory/v1/users',\n\t\t{},\n\t\tqs,\n\t);\n\n\tif (!Array.isArray(responseData)) {\n\t\treturn { results: [] };\n\t}\n\n\tconst results: INodeListSearchItems[] = responseData.map(\n\t\t(user: { name?: { fullName?: string }; id: string }) => ({\n\t\t\tname: user.name?.fullName ?? user.id,\n\t\t\tvalue: user.id,\n\t\t}),\n\t);\n\n\treturn { results };\n}\n\nexport async function searchGroups(this: ILoadOptionsFunctions): Promise<INodeListSearchResult> {\n\tconst qs: IDataObject = {\n\t\tcustomer: 'my_customer',\n\t};\n\n\tconst responseData = await googleApiRequestAllItems.call(\n\t\tthis,\n\t\t'groups',\n\t\t'GET',\n\t\t'/directory/v1/groups',\n\t\t{},\n\t\tqs,\n\t);\n\n\tif (!Array.isArray(responseData)) {\n\t\treturn { results: [] };\n\t}\n\n\tconst results: INodeListSearchItems[] = responseData.map(\n\t\t(group: { name?: string; email?: string; id: string }) => ({\n\t\t\tname: group.name || group.email || 'Unnamed Group',\n\t\t\tvalue: group.id,\n\t\t}),\n\t);\n\n\treturn { results };\n}\n\nexport async function searchDevices(this: ILoadOptionsFunctions): Promise<INodeListSearchResult> {\n\tconst qs: IDataObject = {\n\t\tcustomerId: 'my_customer',\n\t};\n\n\tconst responseData = await googleApiRequest.call(\n\t\tthis,\n\t\t'GET',\n\t\t'/directory/v1/customer/my_customer/devices/chromeos/',\n\t\t{},\n\t\tqs,\n\t);\n\n\tif (!Array.isArray(responseData?.chromeosdevices)) {\n\t\treturn { results: [] };\n\t}\n\n\tconst results: INodeListSearchItems[] = responseData.chromeosdevices.map(\n\t\t(device: { deviceId: string; serialNumber?: string }) => ({\n\t\t\tname: device.serialNumber || device.deviceId || 'Unknown Device',\n\t\t\tvalue: device.deviceId,\n\t\t}),\n\t);\n\n\treturn { results };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,8BAA2D;AAE3D,eAAsB,cAAyE;AAC9F,QAAM,KAAkB;AAAA,IACvB,UAAU;AAAA,EACX;AAEA,QAAM,eAAe,MAAM,iDAAyB;AAAA,IACnD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,CAAC;AAAA,IACD;AAAA,EACD;AAEA,MAAI,CAAC,MAAM,QAAQ,YAAY,GAAG;AACjC,WAAO,EAAE,SAAS,CAAC,EAAE;AAAA,EACtB;AAEA,QAAM,UAAkC,aAAa;AAAA,IACpD,CAAC,UAAwD;AAAA,MACxD,MAAM,KAAK,MAAM,YAAY,KAAK;AAAA,MAClC,OAAO,KAAK;AAAA,IACb;AAAA,EACD;AAEA,SAAO,EAAE,QAAQ;AAClB;AAEA,eAAsB,eAA0E;AAC/F,QAAM,KAAkB;AAAA,IACvB,UAAU;AAAA,EACX;AAEA,QAAM,eAAe,MAAM,iDAAyB;AAAA,IACnD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,CAAC;AAAA,IACD;AAAA,EACD;AAEA,MAAI,CAAC,MAAM,QAAQ,YAAY,GAAG;AACjC,WAAO,EAAE,SAAS,CAAC,EAAE;AAAA,EACtB;AAEA,QAAM,UAAkC,aAAa;AAAA,IACpD,CAAC,WAA0D;AAAA,MAC1D,MAAM,MAAM,QAAQ,MAAM,SAAS;AAAA,MACnC,OAAO,MAAM;AAAA,IACd;AAAA,EACD;AAEA,SAAO,EAAE,QAAQ;AAClB;AAEA,eAAsB,gBAA2E;AAChG,QAAM,KAAkB;AAAA,IACvB,YAAY;AAAA,EACb;AAEA,QAAM,eAAe,MAAM,yCAAiB;AAAA,IAC3C;AAAA,IACA;AAAA,IACA;AAAA,IACA,CAAC;AAAA,IACD;AAAA,EACD;AAEA,MAAI,CAAC,MAAM,QAAQ,cAAc,eAAe,GAAG;AAClD,WAAO,EAAE,SAAS,CAAC,EAAE;AAAA,EACtB;AAEA,QAAM,UAAkC,aAAa,gBAAgB;AAAA,IACpE,CAAC,YAAyD;AAAA,MACzD,MAAM,OAAO,gBAAgB,OAAO,YAAY;AAAA,MAChD,OAAO,OAAO;AAAA,IACf;AAAA,EACD;AAEA,SAAO,EAAE,QAAQ;AAClB;","names":[]}