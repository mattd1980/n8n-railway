{"version":3,"sources":["../../../../../../nodes/Discord/v2/actions/message/sendAndWait.operation.ts"],"sourcesContent":["import type {\n\tIDataObject,\n\tIExecuteFunctions,\n\tINodeExecutionData,\n\tINodeProperties,\n} from 'n8n-workflow';\n\nimport { getSendAndWaitProperties } from '../../../../../utils/sendAndWait/utils';\nimport {\n\tcreateSendAndWaitMessageBody,\n\tparseDiscordError,\n\tprepareErrorData,\n\tsendDiscordMessage,\n} from '../../helpers/utils';\nimport { sendToProperties } from '../common.description';\n\nexport const description: INodeProperties[] = getSendAndWaitProperties(\n\tsendToProperties,\n\t'message',\n\tundefined,\n\t{\n\t\tnoButtonStyle: true,\n\t\tdefaultApproveLabel: '✓ Approve',\n\t\tdefaultDisapproveLabel: '✗ Decline',\n\t},\n).filter((p) => p.name !== 'subject');\n\nexport async function execute(\n\tthis: IExecuteFunctions,\n\tguildId: string,\n\tuserGuilds: IDataObject[],\n): Promise<INodeExecutionData[]> {\n\tconst items = this.getInputData();\n\n\tconst isOAuth2 = this.getNodeParameter('authentication', 0) === 'oAuth2';\n\n\ttry {\n\t\tawait sendDiscordMessage.call(this, {\n\t\t\tguildId,\n\t\t\tuserGuilds,\n\t\t\tisOAuth2,\n\t\t\tbody: createSendAndWaitMessageBody(this),\n\t\t\titems,\n\t\t});\n\t} catch (error) {\n\t\tconst err = parseDiscordError.call(this, error, 0);\n\n\t\tif (this.continueOnFail()) {\n\t\t\treturn prepareErrorData.call(this, err, 0);\n\t\t}\n\n\t\tthrow err;\n\t}\n\n\treturn items;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,mBAAyC;AACzC,IAAAA,gBAKO;AACP,oBAAiC;AAE1B,MAAM,kBAAiC;AAAA,EAC7C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,IACC,eAAe;AAAA,IACf,qBAAqB;AAAA,IACrB,wBAAwB;AAAA,EACzB;AACD,EAAE,OAAO,CAAC,MAAM,EAAE,SAAS,SAAS;AAEpC,eAAsB,QAErB,SACA,YACgC;AAChC,QAAM,QAAQ,KAAK,aAAa;AAEhC,QAAM,WAAW,KAAK,iBAAiB,kBAAkB,CAAC,MAAM;AAEhE,MAAI;AACH,UAAM,iCAAmB,KAAK,MAAM;AAAA,MACnC;AAAA,MACA;AAAA,MACA;AAAA,MACA,UAAM,4CAA6B,IAAI;AAAA,MACvC;AAAA,IACD,CAAC;AAAA,EACF,SAAS,OAAO;AACf,UAAM,MAAM,gCAAkB,KAAK,MAAM,OAAO,CAAC;AAEjD,QAAI,KAAK,eAAe,GAAG;AAC1B,aAAO,+BAAiB,KAAK,MAAM,KAAK,CAAC;AAAA,IAC1C;AAEA,UAAM;AAAA,EACP;AAEA,SAAO;AACR;","names":["import_utils"]}