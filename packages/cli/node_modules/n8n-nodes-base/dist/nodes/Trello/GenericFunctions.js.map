{"version":3,"sources":["../../../nodes/Trello/GenericFunctions.ts"],"sourcesContent":["import type {\n\tIDataObject,\n\tIExecuteFunctions,\n\tIHookFunctions,\n\tIHttpRequestMethods,\n\tILoadOptionsFunctions,\n\tIRequestOptions,\n} from 'n8n-workflow';\n\n/**\n * Make an API request to Trello\n *\n */\nexport async function apiRequest(\n\tthis: IHookFunctions | IExecuteFunctions | ILoadOptionsFunctions,\n\tmethod: IHttpRequestMethods,\n\tendpoint: string,\n\tbody: object,\n\tquery?: IDataObject,\n): Promise<any> {\n\tquery = query || {};\n\n\tconst options: IRequestOptions = {\n\t\tmethod,\n\t\tbody,\n\t\tqs: query,\n\t\turi: `https://api.trello.com/1/${endpoint}`,\n\t\tjson: true,\n\t};\n\n\tif (method === 'GET') {\n\t\tdelete options.body;\n\t}\n\n\treturn await this.helpers.requestWithAuthentication.call(this, 'trelloApi', options);\n}\n\nexport async function apiRequestAllItems(\n\tthis: IHookFunctions | IExecuteFunctions,\n\tmethod: IHttpRequestMethods,\n\tendpoint: string,\n\tbody: IDataObject,\n\tquery: IDataObject = {},\n): Promise<any> {\n\tquery.limit = 30;\n\n\tquery.sort = '-id';\n\n\tconst returnData: IDataObject[] = [];\n\n\tlet responseData;\n\n\tdo {\n\t\tresponseData = await apiRequest.call(this, method, endpoint, body, query);\n\t\treturnData.push.apply(returnData, responseData as IDataObject[]);\n\t\tif (responseData.length !== 0) {\n\t\t\tquery.before = responseData[responseData.length - 1].id;\n\t\t}\n\t} while (query.limit <= responseData.length);\n\n\treturn returnData;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,eAAsB,WAErB,QACA,UACA,MACA,OACe;AACf,UAAQ,SAAS,CAAC;AAElB,QAAM,UAA2B;AAAA,IAChC;AAAA,IACA;AAAA,IACA,IAAI;AAAA,IACJ,KAAK,4BAA4B,QAAQ;AAAA,IACzC,MAAM;AAAA,EACP;AAEA,MAAI,WAAW,OAAO;AACrB,WAAO,QAAQ;AAAA,EAChB;AAEA,SAAO,MAAM,KAAK,QAAQ,0BAA0B,KAAK,MAAM,aAAa,OAAO;AACpF;AAEA,eAAsB,mBAErB,QACA,UACA,MACA,QAAqB,CAAC,GACP;AACf,QAAM,QAAQ;AAEd,QAAM,OAAO;AAEb,QAAM,aAA4B,CAAC;AAEnC,MAAI;AAEJ,KAAG;AACF,mBAAe,MAAM,WAAW,KAAK,MAAM,QAAQ,UAAU,MAAM,KAAK;AACxE,eAAW,KAAK,MAAM,YAAY,YAA6B;AAC/D,QAAI,aAAa,WAAW,GAAG;AAC9B,YAAM,SAAS,aAAa,aAAa,SAAS,CAAC,EAAE;AAAA,IACtD;AAAA,EACD,SAAS,MAAM,SAAS,aAAa;AAErC,SAAO;AACR;","names":[]}