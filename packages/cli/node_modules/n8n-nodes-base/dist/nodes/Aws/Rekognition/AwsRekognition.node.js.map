{"version":3,"sources":["../../../../nodes/Aws/Rekognition/AwsRekognition.node.ts"],"sourcesContent":["import type {\n\tIDataObject,\n\tIExecuteFunctions,\n\tINodeExecutionData,\n\tINodeType,\n\tINodeTypeDescription,\n} from 'n8n-workflow';\nimport { NodeConnectionTypes } from 'n8n-workflow';\n\nimport { awsApiRequestREST, keysTPascalCase } from './GenericFunctions';\n\nexport class AwsRekognition implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'AWS Rekognition',\n\t\tname: 'awsRekognition',\n\t\ticon: 'file:rekognition.svg',\n\t\tgroup: ['output'],\n\t\tversion: 1,\n\t\tsubtitle: '={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}',\n\t\tdescription: 'Sends data to AWS Rekognition',\n\t\tdefaults: {\n\t\t\tname: 'AWS Rekognition',\n\t\t},\n\t\tinputs: [NodeConnectionTypes.Main],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tcredentials: [\n\t\t\t{\n\t\t\t\tname: 'aws',\n\t\t\t\trequired: true,\n\t\t\t},\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Resource',\n\t\t\t\tname: 'resource',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Image',\n\t\t\t\t\t\tvalue: 'image',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'image',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Operation',\n\t\t\t\tname: 'operation',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Analyze',\n\t\t\t\t\t\tvalue: 'analyze',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'analyze',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Type',\n\t\t\t\tname: 'type',\n\t\t\t\ttype: 'options',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['analyze'],\n\t\t\t\t\t\tresource: ['image'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Detect Faces',\n\t\t\t\t\t\tvalue: 'detectFaces',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Detect Labels',\n\t\t\t\t\t\tvalue: 'detectLabels',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Detect Moderation Labels',\n\t\t\t\t\t\tvalue: 'detectModerationLabels',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Detect Text',\n\t\t\t\t\t\tvalue: 'detectText',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Recognize Celebrity',\n\t\t\t\t\t\tvalue: 'recognizeCelebrity',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'detectFaces',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Binary File',\n\t\t\t\tname: 'binaryData',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: false,\n\t\t\t\trequired: true,\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['analyze'],\n\t\t\t\t\t\tresource: ['image'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdescription: 'Whether the image to analyze should be taken from binary field',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Input Binary Field',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['analyze'],\n\t\t\t\t\t\tresource: ['image'],\n\t\t\t\t\t\tbinaryData: [true],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tname: 'binaryPropertyName',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'data',\n\t\t\t\thint: 'The name of the input binary field containing the file to be written',\n\t\t\t\trequired: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Bucket',\n\t\t\t\tname: 'bucket',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['analyze'],\n\t\t\t\t\t\tresource: ['image'],\n\t\t\t\t\t\tbinaryData: [false],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdescription: 'Name of the S3 bucket',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Name',\n\t\t\t\tname: 'name',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['analyze'],\n\t\t\t\t\t\tresource: ['image'],\n\t\t\t\t\t\tbinaryData: [false],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdescription: 'S3 object key name',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Additional Fields',\n\t\t\t\tname: 'additionalFields',\n\t\t\t\ttype: 'collection',\n\t\t\t\tplaceholder: 'Add Field',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['analyze'],\n\t\t\t\t\t\tresource: ['image'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: {},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Regions of Interest',\n\t\t\t\t\t\tname: 'regionsOfInterestUi',\n\t\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\t\tdefault: {},\n\t\t\t\t\t\tplaceholder: 'Add Region of Interest',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t'/type': ['detectText'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tmultipleValues: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'regionsOfInterestValues',\n\t\t\t\t\t\t\t\tdisplayName: 'Region of Interest',\n\t\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdisplayName: 'Height',\n\t\t\t\t\t\t\t\t\t\tname: 'height',\n\t\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t\t'Height of the bounding box as a ratio of the overall image height',\n\t\t\t\t\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdisplayName: 'Left',\n\t\t\t\t\t\t\t\t\t\tname: 'left',\n\t\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t\t'Left coordinate of the bounding box as a ratio of overall image width',\n\t\t\t\t\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdisplayName: 'Top',\n\t\t\t\t\t\t\t\t\t\tname: 'top',\n\t\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t\t'Top coordinate of the bounding box as a ratio of overall image height',\n\t\t\t\t\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdisplayName: 'Width',\n\t\t\t\t\t\t\t\t\t\tname: 'Width',\n\t\t\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\t\t\tdescription: 'Width of the bounding box as a ratio of the overall image width',\n\t\t\t\t\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Version',\n\t\t\t\t\t\tname: 'version',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t'/binaryData': [false],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'If the bucket is versioning enabled, you can specify the object version',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Word Filter',\n\t\t\t\t\t\tname: 'wordFilterUi',\n\t\t\t\t\t\ttype: 'collection',\n\t\t\t\t\t\tdefault: {},\n\t\t\t\t\t\tplaceholder: 'Add Word Filter',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t'/type': ['detectText'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tmultipleValues: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Min Bounding Box Height',\n\t\t\t\t\t\t\t\tname: 'MinBoundingBoxHeight',\n\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'Sets the minimum height of the word bounding box. Words with bounding box heights lesser than this value will be excluded from the result. Value is relative to the video frame height.',\n\t\t\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Min Bounding Box Width',\n\t\t\t\t\t\t\t\tname: 'MinBoundingBoxWidth',\n\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'Sets the minimum width of the word bounding box. Words with bounding boxes widths lesser than this value will be excluded from the result. Value is relative to the video frame width.',\n\t\t\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Min Confidence',\n\t\t\t\t\t\t\t\tname: 'MinConfidence',\n\t\t\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'Sets the confidence of word detection. Words with detection confidence below this will be excluded from the result. Values should be between 50 and 100 as Text in Video will not return any result below 50.',\n\t\t\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Max Labels',\n\t\t\t\t\t\tname: 'maxLabels',\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t'/type': ['detectModerationLabels', 'detectLabels'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tminValue: 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Maximum number of labels you want the service to return in the response. The service returns the specified number of highest confidence labels.',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Min Confidence',\n\t\t\t\t\t\tname: 'minConfidence',\n\t\t\t\t\t\ttype: 'number',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t'/type': ['detectModerationLabels', 'detectLabels'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefault: 0,\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tminValue: 0,\n\t\t\t\t\t\t\tmaxValue: 100,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\"Specifies the minimum confidence level for the labels to return. Amazon Rekognition doesn't return any labels with a confidence level lower than this specified value.\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Attributes',\n\t\t\t\t\t\tname: 'attributes',\n\t\t\t\t\t\ttype: 'multiOptions',\n\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t'/type': ['detectFaces'],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'All',\n\t\t\t\t\t\t\t\tvalue: 'all',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Default',\n\t\t\t\t\t\t\t\tvalue: 'default',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdefault: [],\n\t\t\t\t\t\tdescription: 'An array of facial attributes you want to be returned',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t};\n\n\tasync execute(this: IExecuteFunctions): Promise<INodeExecutionData[][]> {\n\t\tconst items = this.getInputData();\n\t\tconst returnData: IDataObject[] = [];\n\t\tlet responseData;\n\t\tconst resource = this.getNodeParameter('resource', 0);\n\t\tconst operation = this.getNodeParameter('operation', 0);\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\ttry {\n\t\t\t\tif (resource === 'image') {\n\t\t\t\t\t//https://docs.aws.amazon.com/rekognition/latest/dg/API_DetectModerationLabels.html#API_DetectModerationLabels_RequestSyntax\n\t\t\t\t\tif (operation === 'analyze') {\n\t\t\t\t\t\tconst additionalFields = this.getNodeParameter('additionalFields', i);\n\n\t\t\t\t\t\tlet action = undefined;\n\n\t\t\t\t\t\tconst body: IDataObject = {};\n\n\t\t\t\t\t\tconst type = this.getNodeParameter('type', 0) as string;\n\n\t\t\t\t\t\tif (type === 'detectModerationLabels') {\n\t\t\t\t\t\t\taction = 'RekognitionService.DetectModerationLabels';\n\n\t\t\t\t\t\t\t// property = 'ModerationLabels';\n\n\t\t\t\t\t\t\tif (additionalFields.minConfidence) {\n\t\t\t\t\t\t\t\tbody.MinConfidence = additionalFields.minConfidence as number;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'detectFaces') {\n\t\t\t\t\t\t\taction = 'RekognitionService.DetectFaces';\n\n\t\t\t\t\t\t\t// TODO: Add a later point make it possible to activate via option.\n\t\t\t\t\t\t\t//       If activated add an index to each of the found faces/tags/...\n\t\t\t\t\t\t\t//       to not loose the reference to the image it got found on if\n\t\t\t\t\t\t\t//       multiple ones got supplied.\n\t\t\t\t\t\t\t// property = 'FaceDetails';\n\n\t\t\t\t\t\t\tif (additionalFields.attributes) {\n\t\t\t\t\t\t\t\tbody.Attributes = additionalFields.attributes as string;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'detectLabels') {\n\t\t\t\t\t\t\taction = 'RekognitionService.DetectLabels';\n\n\t\t\t\t\t\t\tif (additionalFields.minConfidence) {\n\t\t\t\t\t\t\t\tbody.MinConfidence = additionalFields.minConfidence as number;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (additionalFields.maxLabels) {\n\t\t\t\t\t\t\t\tbody.MaxLabels = additionalFields.maxLabels as number;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'recognizeCelebrity') {\n\t\t\t\t\t\t\taction = 'RekognitionService.RecognizeCelebrities';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (type === 'detectText') {\n\t\t\t\t\t\t\taction = 'RekognitionService.DetectText';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbody.Filters = {};\n\n\t\t\t\t\t\tconst box =\n\t\t\t\t\t\t\t((additionalFields.regionsOfInterestUi as IDataObject)\n\t\t\t\t\t\t\t\t?.regionsOfInterestValues as IDataObject[]) || [];\n\n\t\t\t\t\t\tif (box.length !== 0) {\n\t\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t\tbody.Filters.RegionsOfInterest = box.map((entry: IDataObject) => {\n\t\t\t\t\t\t\t\treturn { BoundingBox: keysTPascalCase(entry) };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst wordFilter = (additionalFields.wordFilterUi as IDataObject) || {};\n\t\t\t\t\t\tif (Object.keys(wordFilter).length !== 0) {\n\t\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t\tbody.Filters.WordFilter = keysTPascalCase(wordFilter);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst isBinaryData = this.getNodeParameter('binaryData', i);\n\t\t\t\t\t\tif (isBinaryData) {\n\t\t\t\t\t\t\tconst binaryPropertyName = this.getNodeParameter('binaryPropertyName', i);\n\t\t\t\t\t\t\tconst binaryPropertyData = this.helpers.assertBinaryData(i, binaryPropertyName);\n\t\t\t\t\t\t\tObject.assign(body, {\n\t\t\t\t\t\t\t\tImage: {\n\t\t\t\t\t\t\t\t\tBytes: binaryPropertyData.data,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst bucket = this.getNodeParameter('bucket', i) as string;\n\t\t\t\t\t\t\tconst name = this.getNodeParameter('name', i) as string;\n\n\t\t\t\t\t\t\tObject.assign(body, {\n\t\t\t\t\t\t\t\tImage: {\n\t\t\t\t\t\t\t\t\tS3Object: {\n\t\t\t\t\t\t\t\t\t\tBucket: bucket,\n\t\t\t\t\t\t\t\t\t\tName: name,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (additionalFields.version) {\n\t\t\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t\t\tbody.Image.S3Object.Version = additionalFields.version as string;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponseData = await awsApiRequestREST.call(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t'rekognition',\n\t\t\t\t\t\t\t'POST',\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\tJSON.stringify(body),\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t{ 'X-Amz-Target': action, 'Content-Type': 'application/x-amz-json-1.1' },\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst executionData = this.helpers.constructExecutionMetaData(\n\t\t\t\t\tthis.helpers.returnJsonArray(responseData as IDataObject),\n\t\t\t\t\t{ itemData: { item: i } },\n\t\t\t\t);\n\t\t\t\treturnData.push(...executionData);\n\t\t\t} catch (error) {\n\t\t\t\tif (this.continueOnFail()) {\n\t\t\t\t\treturnData.push({ error: error.message });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t\treturn [returnData as INodeExecutionData[]];\n\t}\n}\n"],"mappings":"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","names":[]}