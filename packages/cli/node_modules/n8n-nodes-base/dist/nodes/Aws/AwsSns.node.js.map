{"version":3,"sources":["../../../nodes/Aws/AwsSns.node.ts"],"sourcesContent":["import {\n\ttype IExecuteFunctions,\n\ttype IDataObject,\n\ttype ILoadOptionsFunctions,\n\ttype INodeExecutionData,\n\ttype INodeListSearchItems,\n\ttype INodeListSearchResult,\n\ttype INodeType,\n\ttype INodeTypeDescription,\n\tNodeConnectionTypes,\n} from 'n8n-workflow';\n\nimport { awsApiRequestSOAP } from './GenericFunctions';\n\nexport class AwsSns implements INodeType {\n\tdescription: INodeTypeDescription = {\n\t\tdisplayName: 'AWS SNS',\n\t\tname: 'awsSns',\n\t\ticon: 'file:sns.svg',\n\t\tgroup: ['output'],\n\t\tversion: 1,\n\t\tsubtitle: '={{$parameter[\"topic\"]}}',\n\t\tdescription: 'Sends data to AWS SNS',\n\t\tdefaults: {\n\t\t\tname: 'AWS SNS',\n\t\t},\n\t\tusableAsTool: true,\n\t\tinputs: [NodeConnectionTypes.Main],\n\t\toutputs: [NodeConnectionTypes.Main],\n\t\tcredentials: [\n\t\t\t{\n\t\t\t\tname: 'aws',\n\t\t\t\trequired: true,\n\t\t\t},\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Operation',\n\t\t\t\tname: 'operation',\n\t\t\t\ttype: 'options',\n\t\t\t\tnoDataExpression: true,\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Create',\n\t\t\t\t\t\tvalue: 'create',\n\t\t\t\t\t\tdescription: 'Create a topic',\n\t\t\t\t\t\taction: 'Create a topic',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Delete',\n\t\t\t\t\t\tvalue: 'delete',\n\t\t\t\t\t\tdescription: 'Delete a topic',\n\t\t\t\t\t\taction: 'Delete a topic',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Publish',\n\t\t\t\t\t\tvalue: 'publish',\n\t\t\t\t\t\tdescription: 'Publish a message to a topic',\n\t\t\t\t\t\taction: 'Publish a message to a topic',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdefault: 'publish',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Name',\n\t\t\t\tname: 'name',\n\t\t\t\ttype: 'string',\n\t\t\t\trequired: true,\n\t\t\t\tdefault: '',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['create'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Options',\n\t\t\t\tname: 'options',\n\t\t\t\ttype: 'collection',\n\t\t\t\tplaceholder: 'Add option',\n\t\t\t\tdefault: {},\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Display Name',\n\t\t\t\t\t\tname: 'displayName',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\tdescription: 'The display name to use for a topic with SMS subscriptions',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Fifo Topic',\n\t\t\t\t\t\tname: 'fifoTopic',\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tdefault: false,\n\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t'Whether the topic you want to create is a FIFO (first-in-first-out) topic',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['create'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Topic',\n\t\t\t\tname: 'topic',\n\t\t\t\ttype: 'resourceLocator',\n\t\t\t\tdefault: { mode: 'list', value: '' },\n\t\t\t\trequired: true,\n\t\t\t\tmodes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'From List',\n\t\t\t\t\t\tname: 'list',\n\t\t\t\t\t\ttype: 'list',\n\t\t\t\t\t\tplaceholder: 'Select a topic...',\n\t\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\t\tsearchListMethod: 'listTopics',\n\t\t\t\t\t\t\tsearchable: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'By URL',\n\t\t\t\t\t\tname: 'url',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tplaceholder:\n\t\t\t\t\t\t\t'https://us-east-1.console.aws.amazon.com/sns/v3/home?region=us-east-1#/topic/arn:aws:sns:us-east-1:777777777777:your_topic',\n\t\t\t\t\t\tvalidation: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tregex:\n\t\t\t\t\t\t\t\t\t\t'https:\\\\/\\\\/[0-9a-zA-Z\\\\-_]+\\\\.console\\\\.aws\\\\.amazon\\\\.com\\\\/sns\\\\/v3\\\\/home\\\\?region\\\\=[0-9a-zA-Z\\\\-_]+\\\\#\\\\/topic\\\\/arn:aws:sns:[0-9a-zA-Z\\\\-_]+:[0-9]+:[0-9a-zA-Z\\\\-_]+(?:\\\\/.*|)',\n\t\t\t\t\t\t\t\t\terrorMessage: 'Not a valid AWS SNS Topic URL',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\textractValue: {\n\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\tregex:\n\t\t\t\t\t\t\t\t'https:\\\\/\\\\/[0-9a-zA-Z\\\\-_]+\\\\.console\\\\.aws\\\\.amazon\\\\.com\\\\/sns\\\\/v3\\\\/home\\\\?region\\\\=[0-9a-zA-Z\\\\-_]+\\\\#\\\\/topic\\\\/(arn:aws:sns:[0-9a-zA-Z\\\\-_]+:[0-9]+:[0-9a-zA-Z\\\\-_]+)(?:\\\\/.*|)',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'ID',\n\t\t\t\t\t\tname: 'id',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tvalidation: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'regex',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tregex: 'arn:aws:sns:[0-9a-zA-Z\\\\-_]+:[0-9]+:[0-9a-zA-Z\\\\-_]+',\n\t\t\t\t\t\t\t\t\terrorMessage: 'Not a valid AWS SNS Topic ARN',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tplaceholder: 'arn:aws:sns:your-aws-region:777777777777:your_topic',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['publish', 'delete'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Subject',\n\t\t\t\tname: 'subject',\n\t\t\t\ttype: 'string',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['publish'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdefault: '',\n\t\t\t\trequired: true,\n\t\t\t\tdescription: 'Subject when the message is delivered to email endpoints',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Message',\n\t\t\t\tname: 'message',\n\t\t\t\ttype: 'string',\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\toperation: ['publish'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\trequired: true,\n\t\t\t\tdefault: '',\n\t\t\t\tdescription: 'The message you want to send',\n\t\t\t},\n\t\t],\n\t};\n\n\tmethods = {\n\t\tlistSearch: {\n\t\t\tasync listTopics(\n\t\t\t\tthis: ILoadOptionsFunctions,\n\t\t\t\tfilter?: string,\n\t\t\t\tpaginationToken?: string,\n\t\t\t): Promise<INodeListSearchResult> {\n\t\t\t\tconst returnData: INodeListSearchItems[] = [];\n\t\t\t\tconst params = paginationToken ? `NextToken=${encodeURIComponent(paginationToken)}` : '';\n\n\t\t\t\tconst data = await awsApiRequestSOAP.call(\n\t\t\t\t\tthis,\n\t\t\t\t\t'sns',\n\t\t\t\t\t'GET',\n\t\t\t\t\t'/?Action=ListTopics&' + params,\n\t\t\t\t);\n\n\t\t\t\tlet topics = data.ListTopicsResponse.ListTopicsResult.Topics.member;\n\t\t\t\tconst nextToken = data.ListTopicsResponse.ListTopicsResult.NextToken;\n\n\t\t\t\tif (nextToken) {\n\t\t\t\t\tpaginationToken = nextToken as string;\n\t\t\t\t} else {\n\t\t\t\t\tpaginationToken = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (!Array.isArray(topics)) {\n\t\t\t\t\ttopics = [topics];\n\t\t\t\t}\n\n\t\t\t\tfor (const topic of topics) {\n\t\t\t\t\tconst topicArn = topic.TopicArn as string;\n\t\t\t\t\tconst arnParsed = topicArn.split(':');\n\t\t\t\t\tconst topicName = arnParsed[5];\n\t\t\t\t\tconst awsRegion = arnParsed[3];\n\n\t\t\t\t\tif (filter && !topicName.includes(filter)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\treturnData.push({\n\t\t\t\t\t\tname: topicName,\n\t\t\t\t\t\tvalue: topicArn,\n\t\t\t\t\t\turl: `https://${awsRegion}.console.aws.amazon.com/sns/v3/home?region=${awsRegion}#/topic/${topicArn}`,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn { results: returnData, paginationToken };\n\t\t\t},\n\t\t},\n\t};\n\n\tasync execute(this: IExecuteFunctions): Promise<INodeExecutionData[][]> {\n\t\tconst items = this.getInputData();\n\t\tconst returnData: IDataObject[] = [];\n\t\tconst operation = this.getNodeParameter('operation', 0);\n\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\ttry {\n\t\t\t\tif (operation === 'create') {\n\t\t\t\t\tlet name = this.getNodeParameter('name', i) as string;\n\t\t\t\t\tconst fifoTopic = this.getNodeParameter('options.fifoTopic', i, false) as boolean;\n\t\t\t\t\tconst displayName = this.getNodeParameter('options.displayName', i, '') as string;\n\t\t\t\t\tconst params: string[] = [];\n\n\t\t\t\t\tif (fifoTopic && !name.endsWith('.fifo')) {\n\t\t\t\t\t\tname = `${name}.fifo`;\n\t\t\t\t\t}\n\n\t\t\t\t\tparams.push(`Name=${name}`);\n\n\t\t\t\t\tif (fifoTopic) {\n\t\t\t\t\t\tparams.push('Attributes.entry.1.key=FifoTopic');\n\t\t\t\t\t\tparams.push('Attributes.entry.1.value=true');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (displayName) {\n\t\t\t\t\t\tparams.push('Attributes.entry.2.key=DisplayName');\n\t\t\t\t\t\tparams.push(`Attributes.entry.2.value=${displayName}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst responseData = await awsApiRequestSOAP.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t'sns',\n\t\t\t\t\t\t'GET',\n\t\t\t\t\t\t'/?Action=CreateTopic&' + params.join('&'),\n\t\t\t\t\t);\n\t\t\t\t\treturnData.push({\n\t\t\t\t\t\tTopicArn: responseData.CreateTopicResponse.CreateTopicResult.TopicArn,\n\t\t\t\t\t} as IDataObject);\n\t\t\t\t}\n\t\t\t\tif (operation === 'delete') {\n\t\t\t\t\tconst topic = this.getNodeParameter('topic', i, undefined, {\n\t\t\t\t\t\textractValue: true,\n\t\t\t\t\t}) as string;\n\t\t\t\t\tconst params = ['TopicArn=' + topic];\n\n\t\t\t\t\tawait awsApiRequestSOAP.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t'sns',\n\t\t\t\t\t\t'GET',\n\t\t\t\t\t\t'/?Action=DeleteTopic&' + params.join('&'),\n\t\t\t\t\t);\n\t\t\t\t\t// response of delete is the same no matter if topic was deleted or not\n\t\t\t\t\treturnData.push({ success: true } as IDataObject);\n\t\t\t\t}\n\t\t\t\tif (operation === 'publish') {\n\t\t\t\t\tconst topic = this.getNodeParameter('topic', i, undefined, {\n\t\t\t\t\t\textractValue: true,\n\t\t\t\t\t}) as string;\n\n\t\t\t\t\tconst params = [\n\t\t\t\t\t\t'TopicArn=' + topic,\n\t\t\t\t\t\t'Subject=' + encodeURIComponent(this.getNodeParameter('subject', i) as string),\n\t\t\t\t\t\t'Message=' + encodeURIComponent(this.getNodeParameter('message', i) as string),\n\t\t\t\t\t];\n\n\t\t\t\t\tconst responseData = await awsApiRequestSOAP.call(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t'sns',\n\t\t\t\t\t\t'GET',\n\t\t\t\t\t\t'/?Action=Publish&' + params.join('&'),\n\t\t\t\t\t);\n\t\t\t\t\treturnData.push({\n\t\t\t\t\t\tMessageId: responseData.PublishResponse.PublishResult.MessageId,\n\t\t\t\t\t} as IDataObject);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (this.continueOnFail()) {\n\t\t\t\t\treturnData.push({ error: error.message });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn [this.helpers.returnJsonArray(returnData)];\n\t}\n}\n"],"mappings":"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","names":[]}